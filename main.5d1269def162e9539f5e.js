(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=s),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=Object(r.g)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2SVd":function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"5oMp":function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},"9rSQ":function(t,e,n){"use strict";var r=n("xTJ+");function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},CgaS:function(t,e,n){"use strict";var r=n("xTJ+"),i=n("MLWZ"),o=n("9rSQ"),s=n("UnBK"),a=n("SntB"),u=n("hIuj"),c=u.validators;function l(t){this.defaults=t,this.interceptors={request:new o,response:new o}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method=t.method?t.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var e=t.transitional;void 0!==e&&u.assertOptions(e,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,n.unshift(e.fulfilled,e.rejected))});var i,o=[];if(this.interceptors.response.forEach(function(t){o.push(t.fulfilled,t.rejected)}),!r){var l=[s,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(o),i=Promise.resolve(t);l.length;)i=i.then(l.shift(),l.shift());return i}for(var h=t;n.length;){var f=n.shift(),d=n.shift();try{h=f(h)}catch(p){d(p);break}}try{i=s(h)}catch(p){return Promise.reject(p)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},l.prototype.getUri=function(t){return t=a(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(t){l.prototype[t]=function(e,n){return this.request(a(n||{},{method:t,url:e,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(t){l.prototype[t]=function(e,n,r){return this.request(a(r||{},{method:t,url:e,data:n}))}}),t.exports=l},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},DfZB:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},HSsa:function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},JEQr:function(t,e,n){"use strict";var r=n("xTJ+"),i=n("yK9s"),o=n("OH9c"),s={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var u,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n("tQ2B")),u),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)||e&&"application/json"===e["Content-Type"]?(a(e,"application/json"),function(t,e,n){if(r.isString(t))try{return(0,JSON.parse)(t),r.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional,n=!(e&&e.silentJSONParsing)&&"json"===this.responseType;if(n||e&&e.forcedJSONParsing&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(i){if(n){if("SyntaxError"===i.name)throw o(i,this,"E_JSON_PARSE");throw i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){c.headers[t]={}}),r.forEach(["post","put","patch"],function(t){c.headers[t]=r.merge(s)}),t.exports=c},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.10.0";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},LYNF:function(t,e,n){"use strict";var r=n("OH9c");t.exports=function(t,e,n,i,o){var s=new Error(t);return r(s,e,n,i,o)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},Lmem:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},MLWZ:function(t,e,n){"use strict";var r=n("xTJ+");function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))}))}),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},OH9c:function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},OTTw:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},"Rn+g":function(t,e,n){"use strict";var r=n("LYNF");t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SgzI:function(t){t.exports=JSON.parse('{"_from":"axios","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"axios","name":"axios","escapedName":"axios","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios","_where":"/home/little-big-genie/Desktop/seen/productscene","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},SntB:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=function(t,e){e=e||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function u(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function c(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=u(void 0,t[i])):n[i]=u(t[i],e[i])}r.forEach(i,function(t){r.isUndefined(e[t])||(n[t]=u(void 0,e[t]))}),r.forEach(o,c),r.forEach(s,function(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=u(void 0,t[i])):n[i]=u(void 0,e[i])}),r.forEach(a,function(r){r in e?n[r]=u(t[r],e[r]):r in t&&(n[r]=u(void 0,t[r]))});var l=i.concat(o).concat(s).concat(a),h=Object.keys(t).concat(Object.keys(e)).filter(function(t){return-1===l.indexOf(t)});return r.forEach(h,c),n}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},UnBK:function(t,e,n){"use strict";var r=n("xTJ+"),i=n("xAGQ"),o=n("Lmem"),s=n("JEQr");function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return a(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(a(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},XwJu:function(t,e,n){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},endd:function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},eqyj:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return nn}),n.d(e,"b",function(){return cu}),n.d(e,"c",function(){return iu}),n.d(e,"d",function(){return nu}),n.d(e,"e",function(){return ru}),n.d(e,"f",function(){return nc}),n.d(e,"g",function(){return Wu}),n.d(e,"h",function(){return la}),n.d(e,"i",function(){return wu}),n.d(e,"j",function(){return Rs}),n.d(e,"k",function(){return fu}),n.d(e,"l",function(){return Ms}),n.d(e,"m",function(){return gr}),n.d(e,"n",function(){return Fa}),n.d(e,"o",function(){return Yi}),n.d(e,"p",function(){return Sn}),n.d(e,"q",function(){return k}),n.d(e,"r",function(){return en}),n.d(e,"s",function(){return fo}),n.d(e,"t",function(){return ra}),n.d(e,"u",function(){return oa}),n.d(e,"v",function(){return hu}),n.d(e,"w",function(){return _a}),n.d(e,"x",function(){return Ku}),n.d(e,"y",function(){return wa}),n.d(e,"z",function(){return qu}),n.d(e,"A",function(){return Eu}),n.d(e,"B",function(){return En}),n.d(e,"C",function(){return uu}),n.d(e,"D",function(){return au}),n.d(e,"E",function(){return qs}),n.d(e,"F",function(){return Us}),n.d(e,"G",function(){return br}),n.d(e,"H",function(){return Hs}),n.d(e,"I",function(){return lr}),n.d(e,"J",function(){return On}),n.d(e,"K",function(){return Ju}),n.d(e,"L",function(){return ma}),n.d(e,"M",function(){return ju}),n.d(e,"N",function(){return rn}),n.d(e,"O",function(){return Gs}),n.d(e,"P",function(){return zs}),n.d(e,"Q",function(){return Ea}),n.d(e,"R",function(){return V}),n.d(e,"S",function(){return Bu}),n.d(e,"T",function(){return Fu}),n.d(e,"U",function(){return g}),n.d(e,"V",function(){return Mu}),n.d(e,"W",function(){return tc}),n.d(e,"X",function(){return Du}),n.d(e,"Y",function(){return lu}),n.d(e,"Z",function(){return Xi}),n.d(e,"ab",function(){return ws}),n.d(e,"bb",function(){return v}),n.d(e,"cb",function(){return ur}),n.d(e,"db",function(){return Gn}),n.d(e,"eb",function(){return Rn}),n.d(e,"fb",function(){return Ln}),n.d(e,"gb",function(){return Un}),n.d(e,"hb",function(){return Mn}),n.d(e,"ib",function(){return Vn}),n.d(e,"jb",function(){return Fn}),n.d(e,"kb",function(){return ms}),n.d(e,"lb",function(){return Zu}),n.d(e,"mb",function(){return ys}),n.d(e,"nb",function(){return vs}),n.d(e,"ob",function(){return Pn}),n.d(e,"pb",function(){return B}),n.d(e,"qb",function(){return So}),n.d(e,"rb",function(){return Lo}),n.d(e,"sb",function(){return Ro}),n.d(e,"tb",function(){return Po}),n.d(e,"ub",function(){return gs}),n.d(e,"vb",function(){return It}),n.d(e,"wb",function(){return f}),n.d(e,"xb",function(){return Dn}),n.d(e,"yb",function(){return go}),n.d(e,"zb",function(){return _t}),n.d(e,"Ab",function(){return ks}),n.d(e,"Bb",function(){return ni}),n.d(e,"Cb",function(){return To}),n.d(e,"Db",function(){return Yo}),n.d(e,"Eb",function(){return Xa}),n.d(e,"Fb",function(){return tt}),n.d(e,"Gb",function(){return at}),n.d(e,"Hb",function(){return S}),n.d(e,"Ib",function(){return E}),n.d(e,"Jb",function(){return it}),n.d(e,"Kb",function(){return ut}),n.d(e,"Lb",function(){return Io}),n.d(e,"Mb",function(){return No}),n.d(e,"Nb",function(){return ko}),n.d(e,"Ob",function(){return jo}),n.d(e,"Pb",function(){return Do}),n.d(e,"Qb",function(){return Ye}),n.d(e,"Rb",function(){return hs}),n.d(e,"Sb",function(){return bn}),n.d(e,"Tb",function(){return Xe}),n.d(e,"Ub",function(){return eu}),n.d(e,"Vb",function(){return Vo}),n.d(e,"Wb",function(){return Za}),n.d(e,"Xb",function(){return Uo}),n.d(e,"Yb",function(){return xo}),n.d(e,"Zb",function(){return Ja}),n.d(e,"ac",function(){return Gt}),n.d(e,"bc",function(){return hr}),n.d(e,"cc",function(){return ot}),n.d(e,"dc",function(){return Jo}),n.d(e,"ec",function(){return Co}),n.d(e,"fc",function(){return us}),n.d(e,"gc",function(){return cs}),n.d(e,"hc",function(){return ls});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function w(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function _(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${w(t)} found${n}`)}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function O(t){return T(t,I)||T(t,A)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(j))?t[x]:null}const I=l({"\u0275prov":l}),x=l({"\u0275inj":l}),A=l({ngInjectableDef:l}),j=l({ngInjectorDef:l});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function D(t){const e=N;return N=t,e}function R(t,e,n){const r=O(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void _(f(t),"Injector")}function P(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),V=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=M||q||F||U,H={},z=[],G=[],W=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),K=l({"\u0275pipe":l}),Q=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),J=l({"\u0275fac":l}),X=l({__NG_ELEMENT_ID__:l});let Z=0;function tt(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||V.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Z++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[K]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{rt[t.id]=t.type}),e}function ot(t,e){return P(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[W]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(J)?t[J]:null}class wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ot),Et}function Et(){const t=Tt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ot(t,e,n,r){const i=Tt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new wt(u&&u.currentValue,e,s===H),t[r]=e}function Tt(t){return t.__ngSimpleChanges__||null}let Ct;function It(t){Ct=t}function xt(t){return!!t.listen}_t.ngInherit=!0;const At={createRenderer:(t,e)=>void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0};function jt(t){for(;Array.isArray(t);)t=t[0];return t}function kt(t,e){return jt(e[t])}function Nt(t,e){return jt(e[t.index])}function Dt(t,e){return t.data[e]}function Rt(t,e){const n=e[t];return dt(n)?n:n[0]}function Pt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Lt(t){return 4==(4&t[2])}function Vt(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function Ft(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const qt={lFrame:ue(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bt(){return qt.bindingsEnabled}function Ht(){return qt.lFrame.lView}function zt(){return qt.lFrame.tView}function Gt(t){qt.lFrame.contextLView=t}function Wt(){let t=$t();for(;null!==t&&64===t.type;)t=t.parent;return t}function $t(){return qt.lFrame.currentTNode}function Kt(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Qt(){return qt.lFrame.isParent}function Yt(){return qt.isInCheckNoChangesMode}function Jt(t){qt.isInCheckNoChangesMode=t}function Xt(){return qt.lFrame.bindingIndex++}function Zt(t){const e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function te(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ee(e)}function ee(t){qt.lFrame.currentDirectiveIndex=t}function ne(){return qt.lFrame.currentQueryIndex}function re(t){qt.lFrame.currentQueryIndex=t}function ie(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function oe(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=ie(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=qt.lFrame=ae();return r.currentTNode=e,r.lView=t,!0}function se(t){const e=ae(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ae(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?ue(t):e}function ue(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ce(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const le=ce;function he(){const t=ce();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return qt.lFrame.selectedIndex}function de(t){qt.lFrame.selectedIndex=t}function pe(){const t=qt.lFrame;return Dt(t.tView,t.selectedIndex)}function ge(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function me(t,e,n){be(t,e,3,n)}function ye(t,e,n,r){(3&t[2])===n&&be(t,e,n,r)}function ve(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function be(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(we(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function we(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const _e=-1;class Se{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ee(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Te(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Oe(t){return 3===t||4===t||6===t}function Te(t){return 64===t.charCodeAt(0)}function Ce(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ie(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ie(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function xe(t){return t!==_e}function Ae(t){return 32767&t}function je(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let ke=!0;function Ne(t){const e=ke;return ke=t,e}let De=0;function Re(t,e){const n=Le(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Pe(r.data,t),Pe(e,null),Pe(r.blueprint,null));const i=Ve(t,e),o=t.injectorIndex;if(xe(i)){const t=Ae(i),n=je(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Pe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Le(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return _e;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return _e}function Me(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=De++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Fe(t,e,n){if(n&k.Optional)return t;_(e,"NodeInjector")}function Ue(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&k.Optional):R(e,r,n&k.Optional)}finally{D(o)}}return Fe(r,e,n)}function qe(t,e,n,r=k.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:He:e}(n);if("function"==typeof o){if(!oe(e,t,r))return r&k.Host?Fe(i,n,r):Ue(e,n,r,i);try{const t=o();if(null!=t||r&k.Optional)return t;_(n)}finally{le()}}else if("number"==typeof o){let i=null,s=Le(t,e),a=_e,u=r&k.Host?e[16][6]:null;for((-1===s||r&k.SkipSelf)&&(a=-1===s?Ve(t,e):e[s+8],a!==_e&&Ke(r,!1)?(i=e[1],s=Ae(a),e=je(a,e)):s=-1);-1!==s;){const t=e[1];if($e(o,s,t.data)){const t=ze(s,e,n,i,r,u);if(t!==Be)return t}a=e[s+8],a!==_e&&Ke(r,e[1].data[s+8]===u)&&$e(o,s,e)?(i=t,s=Ae(a),e=je(a,e)):s=-1}}}return Ue(e,n,r,i)}const Be={};function He(){return new Qe(Wt(),Ht())}function ze(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Ge(a,s,n,null==r?mt(a)&&ke:r!=s&&0!=(3&a.type),i&k.Host&&o===a);return null!==u?We(e,s,u,a):Be}function Ge(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&vt(t)&&t.type===n)return u}return null}function We(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Se){const s=i;s.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(w(o[n]));const a=Ne(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?D(s.injectImpl):null;oe(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&D(u),Ne(a),s.resolving=!1,le()}}return i}function $e(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ke(t,e){return!(t&k.Self||t&k.Host&&e)}class Qe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return qe(this._tNode,this._lView,t,void 0,e)}}function Ye(t){return P(()=>{const e=t.prototype.constructor,n=e[J]||Je(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[J]||Je(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Je(t){return y(t)?()=>{const e=Je(m(t));return e&&e()}:bt(t)}function Xe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Oe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Wt(),t)}const Ze="__parameters__";function tn(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ze)?t[Ze]:Object.defineProperty(t,Ze,{value:[]})[Ze];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class en{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nn=new en("AnalyzeForEntryComponents"),rn=Function;function on(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),on(r,e)):e!==t&&e.push(r)}return e}function sn(t,e){t.forEach(t=>Array.isArray(t)?sn(t,e):e(t))}function an(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function un(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cn(t,e,n){let r=hn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ln(t,e){const n=hn(t,e);if(n>=0)return t[1|n]}function hn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const fn={},dn=/\n/gm,pn="__source",gn=l({provide:String,useValue:l});let mn;function yn(t){const e=mn;return mn=t,e}function vn(t,e=k.Default){if(void 0===mn)throw new Error("inject() must be called from an injection context");return null===mn?R(t,void 0,e):mn.get(t,e&k.Optional?null:void 0,e)}function bn(t,e=k.Default){return(N||vn)(m(t),e)}function wn(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(bn(t,n))}else e.push(bn(r))}return e}function _n(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Sn=_n(tn("Inject",t=>({token:t})),-1),En=_n(tn("Optional"),8),On=_n(tn("SkipSelf"),4);let Tn;function Cn(t){var e;return(null===(e=function(){if(void 0===Tn&&(Tn=null,B.trustedTypes))try{Tn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Tn}())||void 0===e?void 0:e.createHTML(t))||t}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class xn extends In{getTypeName(){return"HTML"}}class An extends In{getTypeName(){return"Style"}}class jn extends In{getTypeName(){return"Script"}}class kn extends In{getTypeName(){return"URL"}}class Nn extends In{getTypeName(){return"ResourceURL"}}function Dn(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function Rn(t,e){const n=Pn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Pn(t){return t instanceof In&&t.getTypeName()||null}function Ln(t){return new xn(t)}function Vn(t){return new An(t)}function Mn(t){return new jn(t)}function Fn(t){return new kn(t)}function Un(t){return new Nn(t)}class qn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Cn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Bn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Cn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Cn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Hn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gn(t){return(t=String(t)).match(Hn)||t.match(zn)?t:"unsafe:"+t}function Wn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function $n(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Kn=Wn("area,br,col,hr,img,wbr"),Qn=Wn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yn=Wn("rp,rt"),Jn=$n(Yn,Qn),Xn=$n(Kn,$n(Qn,Wn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$n(Yn,Wn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jn),Zn=Wn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tr=Wn("srcset"),er=$n(Zn,tr,Wn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nr=Wn("script,style,template");class rr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Xn.hasOwnProperty(e))return this.sanitizedSomething=!0,!nr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!er.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Zn[o]&&(s=Gn(s)),tr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Gn(t.trim())).join(", ")),this.buf.push(" ",e,'="',sr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Xn.hasOwnProperty(e)&&!Kn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(sr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function sr(t){return t.replace(/&/g,"&amp;").replace(ir,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(or,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ar;function ur(t,e){let n=null;try{ar=ar||function(t){const e=new Bn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Cn(""),"text/html")}catch(t){return!1}}()?new qn(e):e}(t);let r=e?String(e):"";n=ar.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ar.getInertBodyElement(r)}while(r!==o);return Cn((new rr).sanitizeChildren(cr(n)||n))}finally{if(n){const t=cr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function cr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var lr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function hr(t){const e=function(){const t=Ht();return t&&t[12]}();return e?e.sanitize(lr.URL,t)||"":Rn(t,"URL")?Dn(t):Gn(b(t))}function fr(t){return t.ngDebugContext}function dr(t){return t.ngOriginalError}function pr(t,...e){t.error(...e)}class gr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||pr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?fr(t)?fr(t):this._findContext(dr(t)):null}_findOriginalError(t){let e=dr(t);for(;e&&dr(e);)e=dr(e);return e}}function mr(t,e){t.__ngContext__=e}const yr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function vr(t){return t instanceof Function?t():t}var br=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function wr(t,e){return(void 0)(t,e)}function _r(t){const e=t[3];return pt(e)?e[3]:e}function Sr(t){return Or(t[13])}function Er(t){return Or(t[4])}function Or(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Tr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=jt(r);0===t&&null!==n?null==i?Nr(e,n,a):kr(e,n,a,i||null,!0):1===t&&null!==n?kr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Rr(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==jt(n)&&Tr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Ur(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Cr(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ir(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function xr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ir(o,r),e>0&&(t[n-1][4]=r[4]);const s=un(t,ft+e);Ur(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ar(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&Ur(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return jr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&jr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&jr(e[1],e),n=e&&e[4]}e=n}}(e)}}function jr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Se)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):jt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Ir(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function kr(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Nr(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Dr(t,e,n,r,i){null!==r?kr(t,e,n,r,i):Nr(t,e,n)}function Rr(t,e){return xt(t)?t.parentNode(e):e.parentNode}function Pr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===V.None||e===V.Emulated)return null}return Nt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Nt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Dr(o,i,n[a],s,!1);else Dr(o,i,n,s,!1)}function Lr(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return Mr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Lr(t,n);{const n=t[e.index];return pt(n)?Mr(-1,n):jt(n)}}if(32&n)return wr(e,t)()||jt(t[e.index]);{const n=Vr(t,e);return null!==n?Array.isArray(n)?n[0]:Lr(_r(t[16]),n):Lr(t,e.next)}}return null}function Vr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Mr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Lr(t,r)}return e[7]}function Fr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&mr(jt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Fr(t,e,n.child,r,i,o,!1),Tr(e,t,i,a,o);else if(32&u){const s=wr(n,r);let u;for(;u=s();)Tr(e,t,i,u,o);Tr(e,t,i,a,o)}else 16&u?qr(t,e,r,n,i,o):Tr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ur(t,e,n,r,i,o){Fr(n,r,t.firstChild,e,i,o,!1)}function qr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Tr(e,t,i,a[u],o);else Fr(t,e,a,s[3],i,o,!0)}function Br(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Hr(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function zr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Gr="ng-template";function Wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==zr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function $r(t){return 4===t.type&&t.value!==Gr}function Kr(t,e,n){return e===(4!==t.type||n?t.value:Gr)}function Qr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Oe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Kr(t,u,n)||""===u&&1===e.length){if(Yr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Wr(t.attrs,c,n)){if(Yr(r))return!1;s=!0}continue}const l=Jr(8&r?"class":u,i,$r(t),n);if(-1===l){if(Yr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==zr(e,c,0)||2&r&&c!==t){if(Yr(r))return!1;s=!0}}}}else{if(!s&&!Yr(r)&&!Yr(u))return!1;if(s&&Yr(u))continue;s=!1,r=u|1&r}}return Yr(r)||s}function Yr(t){return 0==(1&t)}function Jr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Xr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Qr(t,e[r],n))return!0;return!1}function Zr(t,e){return t?":not("+e.trim()+")":e}function ti(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Yr(s)||(e+=Zr(o,i),i=""),r=s,o=o||!Yr(r);n++}return""!==i&&(e+=Zr(o,i)),e}const ei={};function ni(t){ri(zt(),Ht(),fe()+t,Yt())}function ri(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&me(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ye(e,r,0,n)}de(n)}function ii(t,e){return t<<17|e<<2}function oi(t){return t>>17&32767}function si(t){return 2|t}function ai(t){return(131068&t)>>2}function ui(t,e){return-131069&t|e<<2}function ci(t){return 1|t}function li(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];re(i),n.contentQueries(2,e[o],o)}}}function hi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ft(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function fi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=$t(),s=Qt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),qt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Kt(o,!0),o}function di(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function pi(t,e,n){se(e);try{const r=t.viewQuery;null!==r&&Hi(1,r,n);const i=t.template;null!==i&&yi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&li(t,e),t.staticViewQueries&&Hi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Mi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,he()}}function gi(t,e,n,r){const i=e[2];if(256==(256&i))return;se(e);const o=Yt();try{Ft(e),qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&yi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&me(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ye(e,n,0,null),ve(e,0)}if(function(t){for(let e=Sr(t);null!==e;e=Er(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=Sr(t);null!==e;e=Er(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Vt(n)&&gi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&li(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&me(e,n)}else{const n=t.contentHooks;null!==n&&ye(e,n,1),ve(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)de(~r);else{const i=r,o=n[++t],s=n[++t];te(o,i),s(2,e[i])}}}finally{de(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Li(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Hi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&me(e,n)}else{const n=t.viewHooks;null!==n&&ye(e,n,2),ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{he()}}function mi(t,e,n,r){const i=e[10],o=!Yt(),s=Lt(e);try{o&&!s&&i.begin&&i.begin(),s&&pi(t,e,r),gi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function yi(t,e,n,r,i){const o=fe(),s=2&r;try{de(-1),s&&e.length>ht&&ri(t,e,ht,Yt()),n(r,i)}finally{de(o)}}function vi(t,e,n){Bt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Re(n,e),mr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=vt(r);o&&Ni(e,n,r);const u=We(e,t,a,n);mr(u,e),null!==s&&Di(0,a-i,u,r,0,s),o&&(Rt(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qt.lFrame.currentDirectiveIndex;try{de(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ee(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ii(r,i)}}finally{de(-1),ee(s)}}(t,e,n))}function bi(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function wi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=_i(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function _i(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ei);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Si(t,e,n,r){const i=Gi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Wi(t).push(r,i.length-1))}function Ei(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Oi(t,e,n,r,i,o,s,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Ki(t,n,c,r,i),mt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,xt(o)?o.setProperty(u,r,i):Te(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ti(t,e,n,r){let i=!1;if(Bt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Xr(n,s.selectors,!1)&&(i||(i=[]),Me(Re(n,e),t,s.type),vt(s)?(xi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,ji(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=di(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ce(n.mergedAttrs,c.hostAttrs),ki(t,n,e,u,c),Ai(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||$r(e)?null:Ri(n,i);o.push(c),s=Ei(n,u,s),a=Ei(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ce(n.mergedAttrs,n.attrs),i}function Ci(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ii(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function xi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ai(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function ji(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ki(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Se(o,vt(i),null);t.blueprint[r]=s,n[r]=s,Ci(t,e,0,r,di(t,n,i.hostVars,ei),i)}function Ni(t,e,n){const r=Nt(e,t),i=wi(n),o=t[10],s=Fi(t,hi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Di(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ri(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Pi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Li(t,e){const n=Rt(e,t);if(Vt(n)){const t=n[1];80&n[2]?gi(t,n,t.template,n[8]):n[5]>0&&Vi(n)}}function Vi(t){for(let n=Sr(t);null!==n;n=Er(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];gi(t,e,t.template,e[8])}else e[5]>0&&Vi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);Vt(r)&&r[5]>0&&Vi(r)}}function Mi(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),pi(r,n,n[8])}function Fi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ui(t){for(;t;){t[2]|=64;const e=_r(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function qi(t,e,n){const r=e[10];r.begin&&r.begin();try{gi(t,e,t.template,n)}catch(i){throw $i(e,i),i}finally{r.end&&r.end()}}function Bi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Pt(n),i=r[1];mi(i,r,i.template,n)}}(t[8])}function Hi(t,e,n){re(0),e(t,n)}const zi=(()=>Promise.resolve(null))();function Gi(t){return t[7]||(t[7]=[])}function Wi(t){return t.cleanup||(t.cleanup=[])}function $i(t,e){const n=t[9],r=n?n.get(gr,null):null;r&&r.handleError(e)}function Ki(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Qi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=d(i,t):2==o&&(r=d(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Yi=new en("INJECTOR",-1);class Ji{get(t,e=fn){if(e===fn){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const Xi=new en("Set Injector scope."),Zi={},to={},eo=[];let no;function ro(){return void 0===no&&(no=new Ji),no}function io(t,e=null,n=null,r){return new oo(t,n,e||ro(),r)}class oo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&sn(e,n=>this.processProvider(n,t,e)),sn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Yi,uo(void 0,this));const o=this.records.get(Xi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=fn,n=k.Default){this.assertNotDestroyed();const r=yn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof en)&&O(t);e=n&&this.injectableDefInScope(n)?uo(so(t),Zi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?ro():this.parent).get(t,e=n&k.Optional&&e===fn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(f(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[pn]&&i.unshift(e[pn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{yn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{sn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];sn(r,t=>this.processProvider(t,n,r||eo))}}this.injectorDefTypes.add(o);const a=bt(o)||(()=>new o);this.records.set(o,uo(a,Zi));const u=r.providers;if(null!=u&&!s){const e=t;sn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=lo(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return co(t)?uo(void 0,t.useValue):uo(ao(t),Zi)}(t);if(lo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=uo(void 0,Zi,!0),e.factory=()=>wn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Zi&&(e.value=to,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function so(t){const e=O(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof en)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ao(t,e,n){let r;if(lo(t)){const e=m(t);return bt(e)||so(e)}if(co(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...wn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>bn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||so(e);r=()=>new e(...wn(t.deps))}var i;return r}function uo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function co(t){return null!==t&&"object"==typeof t&&gn in t}function lo(t){return"function"==typeof t}const ho=function(t,e,n){return function(t,e=null,n=null,r){const i=io(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let fo=(()=>{class t{static create(t,e){return Array.isArray(t)?ho(t,e,""):ho(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=fn,t.NULL=new Ji,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>bn(Yi)}),t.__NG_ELEMENT_ID__=-1,t})();function po(t,e){ge(Pt(t)[1],Wt())}function go(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=mo(t.inputs),e.declaredInputs=mo(t.declaredInputs),e.outputs=mo(t.outputs);const n=i.hostBindings;n&&bo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&yo(t,o),s&&vo(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===go&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ce(i.hostAttrs,n=Ce(n,i.hostAttrs))}}(r)}function mo(t){return t===H?{}:t===G?[]:t}function yo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function vo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function bo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let wo=null;function _o(){if(!wo){const t=B.Symbol;if(t&&t.iterator)wo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(wo=n)}}}return wo}function So(t){return!!Eo(t)&&(Array.isArray(t)||!(t instanceof Map)&&_o()in t)}function Eo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Oo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function To(t,e,n,r){const i=Ht();return Oo(i,Xt(),e)&&(zt(),function(t,e,n,r,i,o){const s=Nt(t,e);!function(t,e,n,r,i,o,s){if(null==o)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);xt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(pe(),i,t,e,n,r)),To}function Co(t,e,n,r,i,o,s,a){const u=Ht(),c=zt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=fi(e,t,4,s||null,Mt(c,a));Ti(e,n,l,Mt(c,u)),ge(e,l);const h=l.tViews=_i(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Kt(h,!1);const f=u[11].createComment("");Pr(c,u,f,h),mr(f,u),Fi(u,u[l]=Pi(f,u,f,h)),yt(h)&&vi(c,u,h),null!=s&&bi(u,h,a)}function Io(t,e=k.Default){const n=Ht();return null===n?bn(t,e):qe(Wt(),n,m(t),e)}function xo(t,e,n){const r=Ht();return Oo(r,Xt(),e)&&Oi(zt(),pe(),r,t,e,r[11],n,!1),xo}function Ao(t,e,n,r,i){const o=i?"class":"style";Ki(t,n,e.inputs[o],o,r)}function jo(t,e,n,r){const i=Ht(),o=zt(),s=ht+t,a=i[11],u=i[s]=Cr(a,e,qt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=fi(e,t,2,i,Mt(a,o));return Ti(e,n,u,Mt(a,s)),null!==u.attrs&&Qi(u,u.attrs,!1),null!==u.mergedAttrs&&Qi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Kt(c,!0);const l=c.mergedAttrs;null!==l&&Ee(a,u,l);const h=c.classes;null!==h&&Hr(a,u,h);const f=c.styles;null!==f&&Br(a,u,f),64!=(64&c.flags)&&Pr(o,i,u,c),0===qt.lFrame.elementDepthCount&&mr(u,i),qt.lFrame.elementDepthCount++,yt(c)&&(vi(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&bi(i,c)}function ko(){let t=Wt();Qt()?qt.lFrame.isParent=!1:(t=t.parent,Kt(t,!1));const e=t;qt.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(ge(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ao(n,e,Ht(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ao(n,e,Ht(),e.stylesWithoutHost,!1)}function No(t,e,n,r){jo(t,e,n,r),ko()}function Do(){return Ht()}function Ro(t){return!!t&&"function"==typeof t.then}function Po(t){return!!t&&"function"==typeof t.subscribe}const Lo=Po;function Vo(t,e,n=!1,r){const i=Ht(),o=zt(),s=Wt();return function(t,e,n,r,i,o,s=!1,a){const u=yt(r),c=t.firstCreatePass&&Wi(t),l=Gi(e);let h=!0;if(3&r.type){const f=Nt(r,e),d=a?a(f):H,p=d.target||f,g=l.length,m=a?t=>a(jt(t[r.index])).target:r.index;if(xt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Fo(r,e,0,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Fo(r,e,0,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=Fo(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Vo}function Mo(t,e,n,r){try{return!1!==n(r)}catch(i){return $i(t,i),!1}}function Fo(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&Ui(s);let a=Mo(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Mo(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Uo(t=1){return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function qo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?oi(o):ai(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Bo(t[a],e)&&(u=!0,t[a+1]=r?ci(n):si(n)),a=r?oi(n):ai(n)}u&&(t[n+1]=r?si(o):ci(o))}function Bo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&hn(t,e)>=0}const Ho={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zo(t){return t.substring(Ho.key,Ho.keyEnd)}function Go(t){return t.substring(Ho.value,Ho.valueEnd)}function Wo(t,e){const n=Ho.textEnd;let r=Ho.key=$o(t,e,n);return n===r?-1:(r=Ho.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=Ko(t,r,n),r=Ho.value=$o(t,r,n),r=Ho.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=Qo(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=Qo(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),Ko(t,r,n))}function $o(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ko(t,e,n,r){return(e=$o(t,e,n))<n&&e++,e}function Qo(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function Yo(t,e){return function(t,e,n,r){const i=Ht(),o=zt(),s=Zt(2);o.firstUpdatePass&&ts(o,t,s,true),e!==ei&&Oo(i,s,e)&&is(o,o.data[fe()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=f(Dn(t))),t}(e),true,s)}(t,e),Yo}function Jo(t){!function(t,e,n,r){const i=zt(),o=Zt(2);i.firstUpdatePass&&ts(i,null,o,r);const s=Ht();if(n!==ei&&Oo(s,o,n)){const a=i.data[fe()];if(as(a,r)&&!Zo(i,o)){let t=a.stylesWithoutHost;null!==t&&(n=d(t,n||"")),Ao(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===ei&&(i=z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let d,p=null;l===h?(u+=2,c+=2,s!==f&&(p=h,d=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,d=f),null!==p&&is(t,e,n,r,p,d,false,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=Dn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(rs,Xo,t,!1)}function Xo(t,e){for(let n=function(t){return function(t){Ho.key=0,Ho.keyEnd=0,Ho.value=0,Ho.valueEnd=0,Ho.textEnd=t.length}(t),Wo(t,$o(t,0,Ho.textEnd))}(e);n>=0;n=Wo(e,n))rs(t,zo(e),Go(e))}function Zo(t,e){return e>=t.expandoStartIndex}function ts(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[fe()],s=Zo(t,n);as(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ns(n=es(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=es(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ai(r))return t[oi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=es(null,t,e,n[1],r),n=ns(n,e.attrs,r),function(t,e,n,r){t[oi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ns(r,t[o].hostAttrs,n);return ns(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=oi(s),u=ai(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||hn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=oi(t[a+1]);t[r+1]=ii(e,a),0!==e&&(t[e+1]=ui(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ii(a,0),0!==a&&(t[a+1]=ui(t[a+1],r)),a=r;else t[r+1]=ii(u,0),0===a?a=r:t[u+1]=ui(t[u+1],r),u=r;l&&(t[r+1]=si(t[r+1])),qo(t,c,r,!0),qo(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&hn(o,e)>=0&&(n[r+1]=ci(n[r+1]))}(e,c,t,r,o),s=ii(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function es(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ns(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ns(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cn(t,s,!!n||e[++o]))}return void 0===t?null:t}function rs(t,e,n){cn(t,e,Dn(n))}function is(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ss(1==(1&c)?os(u,e,n,i,ai(c),s):void 0)||(ss(o)||2==(2&c)&&(o=os(u,null,n,i,a,s)),function(t,e,n,r,i){const o=xt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:br.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=br.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,kt(fe(),n),i,o))}function os(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ei&&(l=c?z:void 0);let h=c?ln(l,r):u===r?l:void 0;if(o&&!ss(h)&&(h=ln(e,r)),ss(h)&&(a=h,s))return a;const f=t[i+1];i=s?oi(f):ai(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ln(t,r))}return a}function ss(t){return void 0!==t}function as(t,e){return 0!=(t.flags&(e?16:32))}function us(t,e=""){const n=Ht(),r=zt(),i=t+ht,o=r.firstCreatePass?fi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Pr(r,n,s,o),Kt(o,!1)}function cs(t){return ls("",t,""),cs}function ls(t,e,n){const r=Ht(),i=function(t,e,n,r){return Oo(t,Xt(),n)?e+b(n)+r:ei}(r,t,e,n);return i!==ei&&function(t,e,n){const r=kt(e,t);!function(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,fe(),i),ls}function hs(t,e,n){const r=Ht();return Oo(r,Xt(),e)&&Oi(zt(),pe(),r,t,e,r[11],n,!0),hs}const fs=void 0;var ds=["en",[["a","p"],["AM","PM"],fs],[["AM","PM"],fs,fs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fs,"{1} 'at' {0}",fs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ps={};function gs(t,e,n){"string"!=typeof e&&(n=e,e=t[ws.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ps[e]=t,n&&(ps[e][ws.ExtraData]=n)}function ms(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=bs(e);if(n)return n;const r=e.split("-")[0];if(n=bs(r),n)return n;if("en"===r)return ds;throw new Error(`Missing locale data for the locale "${t}".`)}function ys(t){return ms(t)[ws.CurrencyCode]||null}function vs(t){return ms(t)[ws.PluralCase]}function bs(t){return t in ps||(ps[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),ps[t]}var ws=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const _s="en-US";let Ss=_s;function Es(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ss=t.toLowerCase().replace(/_/g,"-"))}function Os(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let o=0;o<t.length;o++)Os(t[o],e,n,r,i);else{const o=zt(),s=Ht();let a=lo(t)?t:m(t.provide),u=ao(t);const c=Wt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(lo(t)||!t.multi){const r=new Se(u,i,Io),d=Is(a,e,i?l:l+f,h);-1===d?(Me(Re(c,s),o,a),Ts(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Is(a,e,l+f,h),p=Is(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Me(Re(c,s),o,a);const l=function(t,e,n,r,i){const o=new Se(t,n,Io);return o.multi=[],o.index=e,o.componentProviders=0,Cs(o,i,r&&!n),o}(i?As:xs,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Ts(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Ts(o,t,d>-1?d:p,Cs(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ts(t,e,n,r){const i=lo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Cs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Is(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function xs(t,e,n,r){return js(this.multi,[])}function As(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=We(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),js(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],js(i,o);return o}function js(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ks(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=zt();if(r.firstCreatePass){const i=vt(t);Os(n,r.data,r.blueprint,i,!0),Os(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ns{}class Ds{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Rs=(()=>{class t{}return t.NULL=new Ds,t})();function Ps(...t){}function Ls(t,e){return new Ms(Nt(t,e))}const Vs=function(){return Ls(Wt(),Ht())};let Ms=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Vs,t})();function Fs(t){return t instanceof Ms?t.nativeElement:t}class Us{}let qs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Bs(),t})();const Bs=function(){const t=Ht(),e=Rt(Wt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Hs=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class zs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Gs=new zs("11.2.14");class Ws{constructor(){}supports(t){return So(t)}create(t){return new Ks(t)}}const $s=(t,e)=>e;class Ks{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||$s}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Xs(n,r,i)?e:n,s=Xs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!So(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[_o()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Qs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Js),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Js),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Qs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ys{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Js{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ys,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Zs{constructor(){}supports(t){return t instanceof Map||Eo(t)}create(){return new ta}}class ta{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Eo(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ea(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ea{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function na(){return new ra([new Ws])}let ra=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||na()),deps:[[t,new On,new En]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:na}),t})();function ia(){return new oa([new Zs])}let oa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ia()),deps:[[t,new On,new En]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:ia}),t})();function sa(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(jt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&sa(e[1],e,n,r)}const s=n.type;if(8&s)sa(t,e,n.child,r);else if(32&s){const t=wr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Vr(e,n);if(Array.isArray(t))r.push(...t);else{const n=_r(e[16]);sa(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class aa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return sa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(xr(t,n),un(e,n))}this._attachedToViewContainer=!1}Ar(this._lView[1],this._lView)}onDestroy(t){Si(this._lView[1],this._lView,null,t)}markForCheck(){Ui(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){qi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{qi(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Ur(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ua extends aa{constructor(t){super(t),this._view=t}detectChanges(){Bi(this._view)}checkNoChanges(){!function(t){Jt(!0);try{Bi(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const ca=ha;let la=(()=>{class t{}return t.__NG_ELEMENT_ID__=ca,t.__ChangeDetectorRef__=!0,t})();function ha(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Rt(t.index,e);return new aa(n,n)}return 47&t.type?new aa(e[16],e):null}(Wt(),Ht(),t)}const fa=[new Zs],da=new ra([new Ws]),pa=new oa(fa),ga=function(){return ba(Wt(),Ht())};let ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=ga,t})();const ya=ma,va=class extends ya{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=hi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),pi(e,n,t),new aa(n)}};function ba(t,e){return 4&t.type?new va(e,t,Ls(t,e)):null}class wa{}class _a{}const Sa=function(){return xa(Wt(),Ht())};let Ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t})();const Oa=Ea,Ta=class extends Oa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ls(this._hostTNode,this._hostLView)}get injector(){return new Qe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(xe(t)){const e=je(t,this._hostLView),n=Ae(t);return new Qe(e[1].data[n+8],e)}return new Qe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ca(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(wa,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ta(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],an(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Mr(i,o),a=n[11],u=Rr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Ur(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),an(Ia(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ca(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=xr(this._lContainer,e);n&&(un(Ia(this._lContainer),e),Ar(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=xr(this._lContainer,e);return n&&null!=un(Ia(this._lContainer),e)?new aa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ca(t){return t[8]}function Ia(t){return t[8]||(t[8]=[])}function xa(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=jt(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);kr(n,Rr(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Pi(r,e,i,t),Fi(e,n)}return new Ta(n,t,e)}const Aa={};class ja extends Rs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Da(e,this.ngModule)}}function ka(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Na=new en("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yr});class Da extends Ns{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ti).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ka(this.componentDef.inputs)}get outputs(){return ka(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Aa,i);return o!==Aa||r===Aa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Us,At),s=i.get(Hs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===V.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Cr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:yr,clean:zi,playerHandler:null,flags:0},f=_i(0,null,null,1,0,null,null,null,null,null),d=hi(null,f,h,l,null,null,o,a,s,i);let p,g;se(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=fi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Qi(a,u,!0),null!==t&&(Ee(i,t,u),null!==a.classes&&Hr(i,t,a.classes),null!==a.styles&&Br(i,t,a.styles)));const c=r.createRenderer(t,e),l=hi(n,wi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Me(Re(a,n),s,e.type),xi(s,a),ji(a,n.length,1)),Fi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ee(a,c,["ng-version",Gs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Yr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ee(a,c,t),e&&e.length>0&&Hr(a,c,e.join(" "))}if(g=Dt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Wt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ki(t,r,e,di(t,e,1,null),n));const i=We(e,t,r.directiveStart,r);mr(i,e);const o=Nt(r,e);return o&&mr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Wt();e.contentQueries(1,s,t.directiveStart)}const a=Wt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(de(a.index),Ci(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ii(e,s)),s}(t,this.componentDef,d,h,[po]),pi(f,d,null)}finally{he()}return new Ra(this.componentType,p,Ls(g,d),d,g)}}class Ra extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ua(r),this.componentType=t}get injector(){return new Qe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Pa=new Map;class La extends wa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ja(this);const n=lt(t),r=t[Y]||null;r&&Es(r),this._bootstrapComponents=vr(n.bootstrap),this._r3Injector=io(t,e,[{provide:wa,useValue:this},{provide:Rs,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=fo.THROW_IF_NOT_FOUND,n=k.Default){return t===fo||t===wa||t===Yi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Va extends _a{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,Pa.get(i),n),Pa.set(i,n));const o=vr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new La(this.moduleType,t)}}function Ma(t){return e=>{setTimeout(t,void 0,e)}}const Fa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=Ma(u),a&&(a=Ma(a)),c&&(c=Ma(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function Ua(){return this._results[_o()]()}class qa{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=_o(),n=qa.prototype;n[e]||(n[e]=Ua)}get changes(){return this._changes||(this._changes=new Fa)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=on(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ba{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ba(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ha{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ha(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==tu(t,e).matches&&this.queries[e].setDirty()}}class za{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ga{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ga(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Wa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Wa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,$a(e,i)),this.matchTNodeWithReadOption(t,e,Ge(e,t,i,!1,!1))}else n===ma?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ge(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ms||r===Ea||r===ma&&4&e.type)this.addMatch(e.index,-2);else{const n=Ge(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function $a(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ka(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ls(t,e):4&t.type?ba(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ms?Ls(e,t):n===ma?ba(e,t):n===Ea?xa(e,t):void 0}(t,e,r):We(t,t[1],n,e)}function Qa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ka(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ya(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Qa(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ya(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ya(n[1],n,i,r)}}}}}return r}function Ja(t){const e=Ht(),n=zt(),r=ne();re(r+1);const i=tu(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ya(n,e,r,[]):Qa(n,e,i,r);t.reset(o,Fs),t.notifyOnChanges()}return!0}return!1}function Xa(t,e,n,r){const i=zt();if(i.firstCreatePass){const o=Wt();(function(t,e,n){null===t.queries&&(t.queries=new Ga),t.queries.track(new Wa(e,n))})(i,new za(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new qa(4==(4&n));Si(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ha),e[19].queries.push(new Ba(r))}(i,Ht(),n)}function Za(){return t=Ht(),e=ne(),t[19].queries[e].queryList;var t,e}function tu(t,e){return t.queries.getByIndex(e)}function eu(t=k.Default){const e=ha(!0);if(null!=e||t&k.Optional)return e;_("ChangeDetectorRef")}const nu=new en("Application Initializer");let ru=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ps,this.reject=Ps,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ro(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(bn(nu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const iu=new en("AppId"),ou={provide:iu,useFactory:function(){return`${su()}${su()}${su()}`},deps:[]};function su(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const au=new en("Platform Initializer"),uu=new en("Platform ID"),cu=new en("appBootstrapListener");let lu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const hu=new en("LocaleId"),fu=new en("DefaultCurrencyCode");class du{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const pu=function(t){return new Va(t)},gu=pu,mu=function(t){return Promise.resolve(pu(t))},yu=function(t){const e=pu(t),n=vr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Da(n)),t},[]);return new du(e,n)},vu=yu,bu=function(t){return Promise.resolve(yu(t))};let wu=(()=>{class t{constructor(){this.compileModuleSync=gu,this.compileModuleAsync=mu,this.compileModuleAndAllComponentsSync=vu,this.compileModuleAndAllComponentsAsync=bu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const _u=(()=>Promise.resolve(0))();function Su(t){"undefined"==typeof Zone?_u.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Eu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fa(!1),this.onMicrotaskEmpty=new Fa(!1),this.onStable=new Fa(!1),this.onError=new Fa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cu(t),Tu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Iu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),xu(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Iu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),xu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Cu(t),Tu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Eu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ou,Ps,Ps);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ou={};function Tu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Cu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Iu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xu(t){t._nesting--,Tu(t)}class Au{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fa,this.onMicrotaskEmpty=new Fa,this.onStable=new Fa,this.onError=new Fa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ju=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eu.assertNotInAngularZone(),Su(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Su(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(bn(Eu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),ku=(()=>{class t{constructor(){this._applications=new Map,Pu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Pu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class Nu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Du(t){Pu=t}let Ru,Pu=new Nu,Lu=!0,Vu=!1;function Mu(){return Vu=!0,Lu}function Fu(){if(Vu)throw new Error("Cannot enable prod mode after platform setup.");Lu=!1}const Uu=new en("AllowMultipleToken");class qu{constructor(t,e){this.name=t,this.token=e}}function Bu(t,e,n=[]){const r=`Platform: ${e}`,i=new en(r);return(e=[])=>{let o=Hu();if(!o||o.injector.get(Uu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Xi,useValue:"platform"});!function(t){if(Ru&&!Ru.destroyed&&!Ru.injector.get(Uu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ru=t.get(zu);const e=t.get(au,null);e&&e.forEach(t=>t())}(fo.create({providers:t,name:r}))}return function(t){const e=Hu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Hu(){return Ru&&!Ru.destroyed?Ru:null}let zu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Au:("zone.js"===t?void 0:t)||new Eu({enableLongStackTrace:Mu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Eu,useValue:n}];return n.run(()=>{const e=fo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(gr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{$u(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Ro(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(ru);return t.runInitializers(),t.donePromise.then(()=>(Es(i.injector.get(hu,_s)||_s),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Gu({},e);return function(t,e,n){const r=new Va(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Wu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(bn(fo))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Gu(t,e){return Array.isArray(e)?e.reduce(Gu,t):Object.assign(Object.assign({},t),e)}let Wu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Eu.assertNotInAngularZone(),Su(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Eu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ns?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(wa),i=n.create(fo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(ju,null),a=s&&i.injector.get(ku);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),$u(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;$u(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(bn(Eu),bn(fo),bn(gr),bn(Rs),bn(ru))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function $u(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ku{}class Qu{}const Yu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ju=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Yu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Xu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Xu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(bn(wu),bn(Qu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Xu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Zu=function(t){return null},tc=Bu(null,"core",[{provide:uu,useValue:"unknown"},{provide:zu,deps:[fo]},{provide:ku,deps:[]},{provide:lu,deps:[]}]),ec=[{provide:Wu,useClass:Wu,deps:[Eu,fo,gr,Rs,ru]},{provide:Na,deps:[Eu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ru,useClass:ru,deps:[[new En,nu]]},{provide:wu,useClass:wu,deps:[]},ou,{provide:ra,useFactory:function(){return da},deps:[]},{provide:oa,useFactory:function(){return pa},deps:[]},{provide:hu,useFactory:function(t){return Es(t=t||"undefined"!=typeof $localize&&$localize.locale||_s),t},deps:[[new Sn(hu),new En,new On]]},{provide:fu,useValue:"USD"}];let nc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(bn(Wu))},t.\u0275mod=it({type:t}),t.\u0275inj=E({providers:ec}),t})()},g7np:function(t,e,n){"use strict";var r=n("2SVd"),i=n("5oMp");t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},hIuj:function(t,e,n){"use strict";var r=n("SgzI"),i={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){i[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var o={},s=r.version.split(".");function a(t,e){for(var n=e?e.split("."):s,r=t.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(t,e,n){var i=e&&a(e);function s(t,e){return"[Axios v"+r.version+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,a){if(!1===t)throw new Error(s(r," has been removed in "+e));return i&&!o[r]&&(o[r]=!0,console.warn(s(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,a)}},t.exports={isOlderVersion:a,assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var o=r[i],s=e[o];if(s){var a=t[o],u=void 0===a||s(a,o,t);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},"jfS+":function(t,e,n){"use strict";var r=n("endd");function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return S}),n.d(e,"c",function(){return T}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return C}),n.d(e,"f",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return A}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return p}),n.d(e,"k",function(){return g}),n.d(e,"l",function(){return y}),n.d(e,"m",function(){return v}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return m}),n.d(e,"q",function(){return w}),n.d(e,"r",function(){return b});var r=n("mrSG"),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){return function(t){var e=i(t);return o.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function a(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=u(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b(){return h().indexOf("MSAppHost/")>=0}function w(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var _=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return Object(r.c)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?E(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new _(i,a,r);return u},t}();function E(t,e){return t.replace(O,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var O=/\{\$([^}]+)}/g;function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){var n=new I(t,e);return n.subscribe.bind(n)}var I=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function x(){}function A(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),w=new u.P("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:_,deps:[v,u.A,[new u.B,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Sb(u.C))},t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({providers:[T]}),t})()}).call(this,n("3UD+")(t))},tQ2B:function(t,e,n){"use strict";var r=n("xTJ+"),i=n("Rn+g"),o=n("eqyj"),s=n("MLWZ"),a=n("g7np"),u=n("w0Vi"),c=n("OTTw"),l=n("LYNF");t.exports=function(t){return new Promise(function(e,n){var h=t.data,f=t.headers,d=t.responseType;r.isFormData(h)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var g=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";f.Authorization="Basic "+btoa(g+":"+m)}var y=a(t.baseURL,t.url);function v(){if(p){var r="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null;i(e,n,{data:d&&"text"!==d&&"json"!==d?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:t,request:p}),p=null}}if(p.open(t.method.toUpperCase(),s(y,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,"onloadend"in p?p.onloadend=v:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(v)},p.onabort=function(){p&&(n(l("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(l(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var b=(t.withCredentials||c(y))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;b&&(f[t.xsrfHeaderName]=b)}"setRequestHeader"in p&&r.forEach(f,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)}),r.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),d&&"json"!==d&&(p.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),n(t),p=null)}),h||(h=null),p.send(h)})}},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vDqi:function(t,e,n){t.exports=n("zuR4")},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w0Vi:function(t,e,n){"use strict";var r=n("xTJ+"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}}),s):s}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},xAGQ:function(t,e,n){"use strict";var r=n("xTJ+"),i=n("JEQr");t.exports=function(t,e,n){var o=this||i;return r.forEach(n,function(n){t=n.call(o,t,e)}),t}},"xTJ+":function(t,e,n){"use strict";var r=n("HSsa"),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function s(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function u(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===i.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isPlainObject:u,isUndefined:s,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:c,isStream:function(t){return a(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function n(n,r){e[r]=u(e[r])&&u(n)?t(e[r],n):u(n)?t({},n):o(n)?n.slice():n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return e},extend:function(t,e,n){return l(e,function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},yK9s:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Sb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(s))},t.\u0275prov=Object(r.Hb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Sb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Sb)(s).location;return new b(Object(r.Sb)(a),e&&e.origin||"")}const v=new r.r("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(m),r.Sb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Hb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new _(Object(r.Sb)(m),Object(r.Sb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var O=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.nb;class C{}let I=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.v))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new A,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){j("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){j("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class A{constructor(){this.$implicit=null,this.ngIf=null}}function j(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[{provide:C,useClass:I}]}),t})();function N(t){return"server"===t}let D=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new R(Object(r.Sb)(s),window)}),t})();class R{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=P(this.window.history)||P(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function P(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class L extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new L,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=M||(M=document.querySelector("base"),M)?M.getAttribute("href"):null;return null==e?null:(n=e,V||(V=document.createElement("a")),V.setAttribute("href",n),"/"===V.pathname.charAt(0)?V.pathname:"/"+V.pathname);var n}resetBaseElement(){M=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let V,M=null;const F=new r.r("TRANSITION_ID"),U=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[F,s,r.s],multi:!0}];class q{static init(){Object(r.X)(new q)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const B=new r.r("EventManagerPlugins");let H=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(B),r.Sb(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class z{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let G=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),W=(()=>{class t extends G{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach($),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach($))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function $(t){o().remove(t)}const K={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Q=/%COMP%/g;function Y(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Y(t,i,n):(i=i.replace(Q,t),n.push(i))}return n}function J(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let X=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Z(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new tt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new et(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Y(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(H),r.Sb(W),r.Sb(r.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Z{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(K[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=K[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=K[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,J(n)):this.eventManager.addEventListener(t,e,J(n))}}class tt extends Z{constructor(t,e,n,r){super(t),this.component=n;const i=Y(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Q,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Q,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class et extends Z{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Y(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let nt=(()=>{class t extends z{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const rt=["alt","control","meta","shift"],it={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ot={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},st={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let at=(()=>{class t extends z{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(rt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ot.hasOwnProperty(e)&&(e=ot[e]))}return it[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),rt.forEach(r=>{r!=n&&(0,st[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const ut=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){L.makeCurrent(),q.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],ct=Object(r.S)(r.W,"browser",ut),lt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:B,useClass:nt,multi:!0,deps:[s,r.A,r.C]},{provide:B,useClass:at,multi:!0,deps:[s]},[],{provide:X,useClass:X,deps:[H,W,r.c]},{provide:r.F,useExisting:X},{provide:G,useExisting:W},{provide:W,useClass:W,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:H,useClass:H,deps:[B,r.A]},[]];let ht=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:F,useExisting:r.c},U]}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(t,12))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:lt,imports:[k,r.f]}),t})();"undefined"!=typeof window&&window;var ft=n("Cfvw"),dt=n("HDdC"),pt=n("DH7j"),gt=n("lJxs"),mt=n("XoHu");function yt(t,e){return new dt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(ft.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const vt=new r.r("NgValueAccessor"),bt={provide:vt,useExisting:Object(r.U)(()=>_t),multi:!0},wt=new r.r("CompositionEventMode");let _t=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(wt,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Ab([bt])]}),t})();const St=new r.r("NgValidators"),Et=new r.r("NgAsyncValidators");function Ot(t){return null!=t}function Tt(t){const e=Object(r.sb)(t)?Object(ft.a)(t):t;return Object(r.rb)(e),e}function Ct(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function It(t,e){return e.map(e=>e(t))}function xt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function At(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Ot);return 0==e.length?null:function(t){return Ct(It(t,e))}}(xt(t)):null}function jt(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Ot);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(pt.a)(e))return yt(e,null);if(Object(mt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return yt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return yt(t=1===t.length&&Object(pt.a)(t[0])?t[0]:t,null).pipe(Object(gt.a)(t=>e(...t)))}return yt(t,null)}(It(t,e).map(Tt)).pipe(Object(gt.a)(Ct))}}(xt(t)):null}function kt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Nt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=At(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),Dt=(()=>{class t extends Nt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Rt(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.yb]}),t})();const Rt=r.Qb(Dt);class Pt extends Nt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Lt=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Pt,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.yb]}),t})();function Vt(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Mt(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ft(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ut="VALID",qt="INVALID",Bt="PENDING",Ht="DISABLED";function zt(t){return(Kt(t)?t.validators:t)||null}function Gt(t){return Array.isArray(t)?At(t):t||null}function Wt(t,e){return(Kt(e)?e.asyncValidators:t)||null}function $t(t){return Array.isArray(t)?jt(t):t||null}function Kt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Qt{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Gt(this._rawValidators),this._composedAsyncValidatorFn=$t(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ut}get invalid(){return this.status===qt}get pending(){return this.status==Bt}get disabled(){return this.status===Ht}get enabled(){return this.status!==Ht}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Gt(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=$t(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Bt,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ht,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ut,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ut&&this.status!==Bt||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ht:Ut}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Bt,this._hasOwnPendingAsyncValidator=!0;const e=Tt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Jt?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Xt&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Ht:this.errors?qt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bt)?Bt:this._anyControlsHaveStatus(qt)?qt:Ut}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Kt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Yt extends Qt{constructor(t=null,e,n){super(zt(e),Wt(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ft(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ft(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Jt extends Qt{constructor(t,e,n){super(zt(e),Wt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Yt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Xt extends Qt{constructor(t,e,n){super(zt(e),Wt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Yt?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Zt={provide:Pt,useExisting:Object(r.U)(()=>ee)},te=(()=>Promise.resolve(null))();let ee=(()=>{class t extends Pt{constructor(t,e,n,i){super(),this.control=new Yt,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===_t?n=t:Object.getPrototypeOf(t.constructor)===class{}?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(kt(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(kt(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);{const n=()=>t.updateValueAndValidity();Vt(e._rawValidators,n),Vt(e._rawAsyncValidators,n)}})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Mt(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Mt(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){te.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;te.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Dt,9),r.Lb(St,10),r.Lb(Et,10),r.Lb(vt,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Ab([Zt]),r.yb,r.zb]}),t})(),ne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})(),re=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[ne]]}),t})(),ie=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[re]}),t})();const oe="https://darble.herokuapp.com/",se={apiKey:"AIzaSyA9fRKHciJ5SWbzT9ktwYHeUGwKwKino0k",authDomain:"productscene.firebaseapp.com",projectId:"productscene",storageBucket:"productscene.appspot.com",messagingSenderId:"826597947378",appId:"1:826597947378:web:96d8ff0d8ed6c450ae9d6b",measurementId:"G-YJ3P2EHKGC"};var ae=n("vDqi"),ue=n.n(ae),ce=n("LRne"),le=n("XNiG"),he=n("9ppp");class fe extends le.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new he.a;return this._value}next(t){super.next(this._value=t)}}var de=n("z+Ro"),pe=n("7o/Q");class ge extends pe.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class me extends pe.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ye=n("SeVD");function ve(t,e,n,r,i=new me(t,n,r)){if(!i.closed)return e instanceof dt.a?e.subscribe(i):Object(ye.a)(e)(i)}var be=n("yCtX");const we={};class _e{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Se(t,this.resultSelector))}}class Se extends ge{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(we),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(ve(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===we?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ee=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Oe=n("bHdf");function Te(...t){return Object(Oe.a)(1)(Object(ce.a)(...t))}var Ce=n("EY2u");function Ie(t){return new dt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(ft.a)(n):Object(Ce.b)()).subscribe(e)})}var xe=n("EQ5u"),Ae=n("zx2A");function je(t,e){return"function"==typeof e?n=>n.pipe(je((n,r)=>Object(ft.a)(t(n,r)).pipe(Object(gt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ke(t))}class ke{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ne(t,this.project))}}class Ne extends Ae.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ae.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Ae.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const De=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Re(t){return e=>0===t?Object(Ce.b)():e.lift(new Pe(t))}class Pe{constructor(t){if(this.total=t,this.total<0)throw new De}call(t,e){return e.subscribe(new Le(t,this.total))}}class Le extends pe.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ve(...t){const e=t[t.length-1];return Object(de.a)(e)?(t.pop(),n=>Te(t,n,e)):e=>Te(t,e)}function Me(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Fe(t,e,n))}}class Fe{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ue(t,this.accumulator,this.seed,this.hasSeed))}}class Ue extends pe.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function qe(t,e){return function(n){return n.lift(new Be(t,e))}}class Be{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new He(t,this.predicate,this.thisArg))}}class He extends pe.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function ze(t){return function(e){const n=new Ge(t),r=e.lift(n);return n.caught=r}}class Ge{constructor(t){this.selector=t}call(t,e){return e.subscribe(new We(t,this.selector,this.caught))}}class We extends Ae.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ae.a(this);this.add(r);const i=Object(Ae.c)(n,r);i!==r&&this.add(i)}}}var $e=n("5+tZ");function Ke(t,e){return Object($e.a)(t,e,1)}function Qe(t){return function(e){return 0===t?Object(Ce.b)():e.lift(new Ye(t))}}class Ye{constructor(t){if(this.total=t,this.total<0)throw new De}call(t,e){return e.subscribe(new Je(t,this.total))}}class Je extends pe.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Xe(t=en){return e=>e.lift(new Ze(t))}class Ze{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new tn(t,this.errorFactory))}}class tn extends pe.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Vb){t=Vb}this.destination.error(t)}}}function en(){return new Ee}function nn(t=null){return e=>e.lift(new rn(t))}class rn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new on(t,this.defaultValue))}}class on extends pe.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var sn=n("SpAZ");function an(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qe((e,n)=>t(e,n,r)):sn.a,Re(1),n?nn(e):Xe(()=>new Ee))}var un=n("vkgz"),cn=n("x+ZX"),ln=n("quSY");class hn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new fn(t,this.callback))}}class fn extends pe.a{constructor(t,e){super(t),this.add(new ln.a(e))}}class dn{constructor(t,e){this.id=t,this.url=e}}class pn extends dn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gn extends dn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mn extends dn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yn extends dn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vn extends dn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bn extends dn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn extends dn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _n extends dn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn extends dn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class En{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class On{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cn{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class In{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class An{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const jn="primary";class kn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Nn(t){return new kn(t)}function Dn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Rn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Pn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ln(t[i],e[i]))return!1;return!0}function Ln(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Vn(t){return Array.prototype.concat.apply([],t)}function Mn(t){return t.length>0?t[t.length-1]:null}function Fn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Un(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(ft.a)(Promise.resolve(t)):Object(ce.a)(t)}function qn(t,e,n){return n?function(t,e){return Pn(t,e)}(t.queryParams,e.queryParams)&&Bn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ln(t[n],e[n]))}(t.queryParams,e.queryParams)&&Hn(t.root,e.root)}function Bn(t,e){if(!Kn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Bn(t.children[n],e.children[n]))return!1}return!0}function Hn(t,e){return zn(t,e,e.segments)}function zn(t,e,n){if(t.segments.length>n.length)return!!Kn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Kn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Hn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Kn(t.segments,r)&&!!t.children.primary&&zn(t.children.primary,e,i)}}class Gn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return Jn.serialize(this)}}class Wn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Fn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xn(this)}}class $n{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Nn(this.parameters)),this._parameterMap}toString(){return or(this)}}function Kn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Qn{}class Yn{parse(t){const e=new lr(t);return new Gn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Zn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${er(e)}=${er(t)}`).join("&"):`${er(e)}=${er(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Jn=new Yn;function Xn(t){return t.segments.map(t=>or(t)).join("/")}function Zn(t,e){if(!t.hasChildren())return Xn(t);if(e){const e=t.children.primary?Zn(t.children.primary,!1):"",n=[];return Fn(t.children,(t,e)=>{e!==jn&&n.push(`${e}:${Zn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Fn(t.children,(t,r)=>{r===jn&&(n=n.concat(e(t,r)))}),Fn(t.children,(t,r)=>{r!==jn&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===jn?[Zn(t.children.primary,!1)]:[`${n}:${Zn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Xn(t)}/${e[0]}`:`${Xn(t)}/(${e.join("//")})`}}function tr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function er(t){return tr(t).replace(/%3B/gi,";")}function nr(t){return tr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rr(t){return decodeURIComponent(t)}function ir(t){return rr(t.replace(/\+/g,"%20"))}function or(t){return`${nr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${nr(t)}=${nr(e[t])}`).join("")}`;var e}const sr=/^[^\/()?;=#]+/;function ar(t){const e=t.match(sr);return e?e[0]:""}const ur=/^[^=?&#]+/,cr=/^[^?&#]+/;class lr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wn([],{}):new Wn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Wn(t,e)),n}parseSegment(){const t=ar(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new $n(rr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ar(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=ar(this.remaining);t&&(n=t,this.capture(n))}t[rr(e)]=rr(n)}parseQueryParam(t){const e=function(t){const e=t.match(ur);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(cr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ir(e),i=ir(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ar(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=jn);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Wn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class hr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=fr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=fr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=dr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return dr(t,this._root).map(t=>t.value)}}function fr(t,e){if(t===e.value)return e;for(const n of e.children){const e=fr(t,n);if(e)return e}return null}function dr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=dr(t,n);if(r.length)return r.unshift(e),r}return[]}class pr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function gr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class mr extends hr{constructor(t,e){super(t),this.snapshot=e,Sr(this,t)}toString(){return this.snapshot.toString()}}function yr(t,e){const n=function(t,e){const n=new wr([],{},{},"",{},jn,e,null,t.root,-1,{});return new _r("",new pr(n,[]))}(t,e),r=new fe([new $n("",{})]),i=new fe({}),o=new fe({}),s=new fe({}),a=new fe(""),u=new vr(r,i,s,a,o,jn,e,n.root);return u.snapshot=n.root,new mr(new pr(u,[]),n)}class vr{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(gt.a)(t=>Nn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(gt.a)(t=>Nn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function br(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class wr{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _r extends hr{constructor(t,e){super(e),this.url=t,Sr(this,e)}toString(){return Er(this._root)}}function Sr(t,e){e.value._routerState=t,e.children.forEach(e=>Sr(t,e))}function Er(t){const e=t.children.length>0?` { ${t.children.map(Er).join(", ")} } `:"";return`${t.value}${e}`}function Or(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Pn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Pn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Tr(t,e){return Pn(t.params,e.params)&&function(t,e){return Kn(t,e)&&t.every((t,n)=>Pn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Tr(t.parent,e.parent))}function Cr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Cr(t,e,r);return Cr(t,e)})}(t,e,n);return new pr(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Ir(e,t),t}}const n=new vr(new fe((r=e.value).url),new fe(r.params),new fe(r.queryParams),new fe(r.fragment),new fe(r.data),r.outlet,r.component,r),i=e.children.map(e=>Cr(t,e));return new pr(n,i)}var r}function Ir(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Ir(t.children[n],e.children[n])}function xr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ar(t){return"object"==typeof t&&null!=t&&t.outlets}function jr(t,e,n,r,i){let o={};return r&&Fn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Gn(n.root===t?e:kr(n.root,t,e),o,i)}function kr(t,e,n){const r={};return Fn(t.children,(t,i)=>{r[i]=t===e?n:kr(t,e,n)}),new Wn(t.segments,r)}class Nr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&xr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Ar);if(r&&r!==Mn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Rr(t,e,n){if(t||(t=new Wn([],{})),0===t.segments.length&&t.hasChildren())return Pr(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Ar(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Fr(a,u,e))return o;r+=2}else{if(!Fr(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Wn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Wn(t.segments.slice(r.pathIndex),t.children),Pr(e,0,i)}return r.match&&0===i.length?new Wn(t.segments,{}):r.match&&!t.hasChildren()?Lr(t,e,n):r.match?Pr(t,0,i):Lr(t,e,n)}function Pr(t,e,n){if(0===n.length)return new Wn(t.segments,{});{const r=function(t){return Ar(t[0])?t[0].outlets:{[jn]:t}}(n),i={};return Fn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Rr(t.children[r],e,n))}),Fn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Wn(t.segments,i)}}function Lr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Ar(o)){const t=Vr(o.outlets);return new Wn(r,t)}if(0===i&&xr(n[0])){r.push(new $n(t.segments[e].path,Mr(n[0]))),i++;continue}const s=Ar(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&xr(a)?(r.push(new $n(s,Mr(a))),i+=2):(r.push(new $n(s,{})),i++)}return new Wn(r,{})}function Vr(t){const e={};return Fn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Lr(new Wn([],{}),0,t))}),e}function Mr(t){const e={};return Fn(t,(t,n)=>e[n]=`${t}`),e}function Fr(t,e,n){return t==n.path&&Pn(e,n.parameters)}class Ur{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Or(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=gr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Fn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=gr(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=gr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new xn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Cn(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Or(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),qr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function qr(t){Or(t.value),t.children.forEach(qr)}class Br{constructor(t,e){this.routes=t,this.module=e}}function Hr(t){return"function"==typeof t}function zr(t){return t instanceof Gn}const Gr=Symbol("INITIAL_VALUE");function Wr(){return je(t=>function(...t){let e,n;return Object(de.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(pt.a)(t[0])&&(t=t[0]),Object(be.a)(t,n).lift(new _e(e))}(t.map(t=>t.pipe(Re(1),Ve(Gr)))).pipe(Me((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Gr)return t;if(r===Gr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||zr(r))return r}return t},t)},Gr),qe(t=>t!==Gr),Object(gt.a)(t=>zr(t)?t:!0===t),Re(1)))}let $r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[Fi]},encapsulation:2}),t})();function Kr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Qr(r,Yr(e,r))}}function Qr(t,e){t.children&&Kr(t.children,e)}function Yr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Jr(t){const e=t.children&&t.children.map(Jr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==jn&&(n.component=$r),n}function Xr(t){return t.outlet||jn}function Zr(t,e){const n=t.filter(t=>Xr(t)===e);return n.push(...t.filter(t=>Xr(t)!==e)),n}const ti={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ei(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},ti):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Rn)(n,t,e);if(!i)return Object.assign({},ti);const o={};Fn(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ni(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>ri(t,e,n)&&Xr(n)!==jn)}(t,n,r)){const i=new Wn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Xr(o)!==jn){const n=new Wn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Xr(o)]=n}return i}(t,e,r,new Wn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ri(t,e,n))}(t,n,r)){const o=new Wn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(ri(t,n,a)&&!i[Xr(a)]){const n=new Wn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Xr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Wn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function ri(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function ii(t,e,n,r){return!!(Xr(t)===r||r!==jn&&ri(e,n,t))&&("**"===t.path||ei(e,t,n).matched)}function oi(t,e,n){return 0===e.length&&!t.children[n]}class si{constructor(t){this.segmentGroup=t||null}}class ai{constructor(t){this.urlTree=t}}function ui(t){return new dt.a(e=>e.error(new si(t)))}function ci(t){return new dt.a(e=>e.error(new ai(t)))}function li(t){return new dt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class hi{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=ni(this.urlTree.root,[],[],this.config).segmentGroup,e=new Wn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,jn).pipe(Object(gt.a)(t=>this.createUrlTree(fi(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ze(t=>{if(t instanceof ai)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof si)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,jn).pipe(Object(gt.a)(e=>this.createUrlTree(fi(e),t.queryParams,t.fragment))).pipe(ze(t=>{if(t instanceof si)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Wn([],{[jn]:t}):t;return new Gn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(gt.a)(t=>new Wn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(ft.a)(r).pipe(Ke(r=>{const i=n.children[r],o=Zr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(gt.a)(t=>({segment:t,outlet:r})))}),Me((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qe((e,n)=>t(e,n,r)):sn.a,Qe(1),n?nn(e):Xe(()=>new Ee))}())}expandSegment(t,e,n,r,i,o){return Object(ft.a)(n).pipe(Ke(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ze(t=>{if(t instanceof si)return Object(ce.a)(null);throw t}))),an(t=>!!t),ze((t,n)=>{if(t instanceof Ee||"EmptyError"===t.name){if(oi(e,r,i))return Object(ce.a)(new Wn([],{}));throw new si(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ii(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):ui(e):ui(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ci(i):this.lineralizeSegments(n,i).pipe(Object($e.a)(n=>{const i=new Wn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=ei(e,r,i);if(!s)return ui(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?ci(l):this.lineralizeSegments(r,l).pipe(Object($e.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(ce.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(gt.a)(t=>(n._loadedConfig=t,new Wn(r,{})))):Object(ce.a)(new Wn(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=ei(e,n,r);if(!o)return ui(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object($e.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=ni(e,s,u,o),l=new Wn(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(gt.a)(t=>new Wn(s,t)));if(0===o.length&&0===c.length)return Object(ce.a)(new Wn(s,{}));const h=Xr(n)===i;return this.expandSegment(r,l,o,c,h?jn:i,!0).pipe(Object(gt.a)(t=>new Wn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(ce.a)(new Br(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ce.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object($e.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(gt.a)(t=>(e._loadedConfig=t,t))):function(t){return new dt.a(e=>e.error(Dn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(ce.a)(new Br([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(ce.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Hr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Hr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Un(o)});return Object(ce.a)(i).pipe(Wr(),Object(un.a)(t=>{if(!zr(t))return;const e=Dn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(gt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(ce.a)(n);if(r.numberOfChildren>1||!r.children.primary)return li(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Gn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Fn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Fn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Wn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function fi(t){const e={};for(const n of Object.keys(t.children)){const r=fi(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Wn(t.segments.concat(e.segments),e.children)}return t}(new Wn(t.segments,e))}class di{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class pi{constructor(t,e){this.component=t,this.route=e}}function gi(t,e,n){const r=t._root;return yi(r,e?e._root:null,n,[r.value])}function mi(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function yi(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=gr(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Kn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Kn(t.url,e.url)||!Pn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tr(t,e)||!Pn(t.queryParams,e.queryParams);case"paramsChange":default:return!Tr(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new di(r)):(o.data=s.data,o._resolvedData=s._resolvedData),yi(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new pi(a.outlet.component,s))}else s&&vi(e,a,i),i.canActivateChecks.push(new di(r)),yi(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Fn(o,(t,e)=>vi(t,n.getContext(e),i)),i}function vi(t,e,n){const r=gr(t),i=t.value;Fn(r,(t,r)=>{vi(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new pi(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class bi{}function wi(t){return new dt.a(e=>e.error(t))}class _i{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=ni(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,jn);if(null===e)return null;const n=new wr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},jn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new pr(n,e),i=new _r(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=br(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Zr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Ei(n);return r.sort((t,e)=>t.value.outlet===jn?-1:e.value.outlet===jn?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return oi(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!ii(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Mn(n).parameters:{};i=new wr(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ci(t),Xr(t),t.component,t,Oi(e),Ti(e)+n.length,Ii(t))}else{const r=ei(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new wr(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ci(t),Xr(t),t.component,t,Oi(e),Ti(e)+o.length,Ii(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ni(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new pr(i,t)]}if(0===a.length&&0===c.length)return[new pr(i,[])];const l=Xr(t)===r,h=this.processSegment(a,u,c,l?jn:r);return null===h?null:[new pr(i,h)]}}function Si(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ei(t){const e=[],n=new Set;for(const r of t){if(!Si(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Ei(r.children);e.push(new pr(r.value,t))}return e.filter(t=>!n.has(t))}function Oi(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ti(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ci(t){return t.data||{}}function Ii(t){return t.resolve||{}}function xi(t){return je(e=>{const n=t(e);return n?Object(ft.a)(n).pipe(Object(gt.a)(()=>e)):Object(ce.a)(e)})}class Ai extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ji=new r.r("ROUTES");class ki{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(gt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Br(Vn(i.injector.get(ji,void 0,r.q.Self|r.q.Optional)).map(Jr),i)}),ze(t=>{throw e._loader$=void 0,t}));return e._loader$=new xe.a(n,()=>new le.a).pipe(Object(cn.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(ft.a)(this.loader.load(t)):Un(t()).pipe(Object($e.a)(t=>t instanceof r.w?Object(ce.a)(t):Object(ft.a)(this.compiler.compileModuleAsync(t))))}}class Ni{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Di,this.attachRef=null}}class Di{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ni,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Ri{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Pi(t){throw t}function Li(t,e,n){return e.parse("/")}function Vi(t,e){return Object(ce.a)(null)}let Mi=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new le.a,this.errorHandler=Pi,this.malformedUriErrorHandler=Li,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Vi,afterPreactivation:Vi},this.urlHandlingStrategy=new Ri,this.routeReuseStrategy=new Ai,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Gn(new Wn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ki(s,a,t=>this.triggerEvent(new En(t)),t=>this.triggerEvent(new On(t))),this.routerState=yr(this.currentUrlTree,this.rootComponentType),this.transitions=new fe({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(qe(t=>0!==t.id),Object(gt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),je(t=>{let n=!1,r=!1;return Object(ce.a)(t).pipe(Object(un.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),je(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ce.a)(t).pipe(je(t=>{const n=this.transitions.getValue();return e.next(new pn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ce.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,je(t=>function(t,e,n,r,i){return new hi(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(gt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(un.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object($e.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new _i(t,e,n,r,i,o).recognize();return null===s?wi(new bi):Object(ce.a)(s)}catch(Vb){return wi(Vb)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(gt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(un.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new vn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new pn(n,this.serializeUrl(r),i,o);e.next(a);const u=yr(r,this.rootComponentType).snapshot;return Object(ce.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ce.a}),xi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(un.a)(t=>{const e=new bn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(gt.a)(t=>Object.assign(Object.assign({},t),{guards:gi(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object($e.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(ce.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(ft.a)(t).pipe(Object($e.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(ce.a)(!0);const s=o.map(o=>{const s=mi(o,e,i);let a;if(function(t){return t&&Hr(t.canDeactivate)}(s))a=Un(s.canDeactivate(t,e,n,r));else{if(!Hr(s))throw new Error("Invalid CanDeactivate guard");a=Un(s(t,e,n,r))}return a.pipe(an())});return Object(ce.a)(s).pipe(Wr())}(t.component,t.route,n,e,r)),an(t=>!0!==t,!0))}(s,r,i,t).pipe(Object($e.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(ft.a)(e).pipe(Ke(e=>Te(function(t,e){return null!==t&&e&&e(new Tn(t)),Object(ce.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new In(t)),Object(ce.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ie(()=>{const i=e.guards.map(i=>{const o=mi(i,e.node,n);let s;if(function(t){return t&&Hr(t.canActivateChild)}(o))s=Un(o.canActivateChild(r,t));else{if(!Hr(o))throw new Error("Invalid CanActivateChild guard");s=Un(o(r,t))}return s.pipe(an())});return Object(ce.a)(i).pipe(Wr())}));return Object(ce.a)(i).pipe(Wr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(ce.a)(!0);const i=r.map(r=>Ie(()=>{const i=mi(r,e,n);let o;if(function(t){return t&&Hr(t.canActivate)}(i))o=Un(i.canActivate(e,t));else{if(!Hr(i))throw new Error("Invalid CanActivate guard");o=Un(i(e,t))}return o.pipe(an())}));return Object(ce.a)(i).pipe(Wr())}(t,e.route,n))),an(t=>!0!==t,!0))}(r,o,t,e):Object(ce.a)(n)),Object(gt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(un.a)(t=>{if(zr(t.guardsResult)){const e=Dn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new wn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),qe(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new mn(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),xi(t=>{if(t.guards.canActivateChecks.length)return Object(ce.a)(t).pipe(Object(un.a)(t=>{const e=new _n(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),je(t=>{let n=!1;return Object(ce.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object($e.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(ce.a)(t);let o=0;return Object(ft.a)(n).pipe(Ke(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(ce.a)({});const o={};return Object(ft.a)(i).pipe(Object($e.a)(i=>function(t,e,n,r){const i=mi(t,e,r);return Un(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(un.a)(t=>{o[i]=t}))),Qe(1),Object($e.a)(()=>Object.keys(o).length===i.length?Object(ce.a)(o):Ce.a))}(t._resolve,t,e,r).pipe(Object(gt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),br(t,n).resolve),null)))}(t.route,e,r,i)),Object(un.a)(()=>o++),Qe(1),Object($e.a)(e=>o===n.length?Object(ce.a)(t):Ce.a))})),Object(un.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new mn(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(un.a)(t=>{const e=new Sn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),xi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(gt.a)(t=>{const e=function(t,e,n){const r=Cr(t,e._root,n?n._root:void 0);return new mr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(un.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(gt.a)(t=>(new Ur(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(un.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new mn(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new hn(i))),ze(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=zr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new mn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new yn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(sh){t.reject(sh)}}var i;return Ce.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Kr(t),this.config=t.map(Jr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return jr(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Nr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Fn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Nr(n,e,r)}(n);if(o.toRoot())return jr(e.root,new Wn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Dr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Dr(t,t===e.root,0)}const r=xr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Dr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Pr(s.segmentGroup,s.index,o.commands):Rr(s.segmentGroup,s.index,o.commands);return jr(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=zr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Vb){e=this.malformedUriErrorHandler(Vb,this.urlSerializer,t)}return e}isActive(t,e){if(zr(t))return qn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return qn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new gn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.N),r.Sb(Qn),r.Sb(Di),r.Sb(_),r.Sb(r.s),r.Sb(r.x),r.Sb(r.i),r.Sb(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Fi=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||jn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ui(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Di),r.Lb(r.Q),r.Lb(r.j),r.Tb("name"),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ui{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===vr?this.route:t===Di?this.childContexts:this.parent.get(t,e)}}class qi{}class Bi{preload(t,e){return Object(ce.a)(null)}}let Hi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ki(e,n,e=>t.triggerEvent(new En(e)),e=>t.triggerEvent(new On(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(qe(t=>t instanceof gn),Ke(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(ft.a)(n).pipe(Object(Oe.a)(),Object(gt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(ce.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object($e.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Mi),r.Sb(r.x),r.Sb(r.i),r.Sb(r.s),r.Sb(qi))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),zi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof An&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new An(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Mi),r.Sb(D),r.Sb(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const Gi=new r.r("ROUTER_CONFIGURATION"),Wi=new r.r("ROUTER_FORROOT_GUARD"),$i=[_,{provide:Qn,useClass:Yn},{provide:Mi,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Mi(null,t,e,n,r,i,s,Vn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Qn,Di,_,r.s,r.x,r.i,ji,Gi,[class{},new r.B],[class{},new r.B]]},Di,{provide:vr,useFactory:function(t){return t.routerState.root},deps:[Mi]},{provide:r.x,useClass:r.K},Hi,Bi,class{preload(t,e){return e().pipe(ze(()=>Object(ce.a)(null)))}},{provide:Gi,useValue:{enableTracing:!1}}];function Ki(){return new r.z("Router",Mi)}let Qi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[$i,Zi(e),{provide:Wi,useFactory:Xi,deps:[[Mi,new r.B,new r.J]]},{provide:Gi,useValue:n||{}},{provide:m,useFactory:Ji,deps:[a,[new r.p(v),new r.B],Gi]},{provide:zi,useFactory:Yi,deps:[Mi,D,Gi]},{provide:qi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Bi},{provide:r.z,multi:!0,useFactory:Ki},[to,{provide:r.d,multi:!0,useFactory:eo,deps:[to]},{provide:ro,useFactory:no,deps:[to]},{provide:r.b,multi:!0,useExisting:ro}]]}}static forChild(e){return{ngModule:t,providers:[Zi(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Wi,8),r.Sb(Mi,8))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();function Yi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new zi(t,e,n)}function Ji(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function Xi(t){return"guarded"}function Zi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:ji,multi:!0,useValue:t}]}let to=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new le.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Mi),r=this.injector.get(Gi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(ce.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Gi),n=this.injector.get(Hi),i=this.injector.get(zi),o=this.injector.get(Mi),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function eo(t){return t.appInitializer.bind(t)}function no(t){return t.bootstrapListener.bind(t)}const ro=new r.r("Router Initializer");function io(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",12),r.Vb("click",function(){return r.ac(t),r.Xb(2).sendComplaints()}),r.fc(1,"Send"),r.Nb()}}function oo(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",7),r.Ob(1,"h5",8),r.fc(2,"Email Sent! Please check your email"),r.Nb(),r.Mb(3,"br"),r.Ob(4,"p",9),r.fc(5,"Complaints? Use the box below."),r.Nb(),r.Ob(6,"input",10),r.Vb("ngModelChange",function(e){return r.ac(t),r.Xb().complaint=e}),r.Nb(),r.ec(7,io,2,0,"button",11),r.Nb()}if(2&t){const t=r.Xb();r.Bb(6),r.Yb("ngModel",t.complaint),r.Bb(1),r.Yb("ngIf",1==t.done)}}function so(t,e){1&t&&(r.Ob(0,"div",13),r.Ob(1,"h5",8),r.fc(2,"Thank you for your purchase"),r.Nb(),r.Ob(3,"div",14),r.Ob(4,"p",15),r.fc(5,"Enter you email above and click the button to get your pdf."),r.Nb(),r.Nb(),r.Ob(6,"h6",16),r.fc(7,"About the Book"),r.Nb(),r.Ob(8,"div",14),r.Ob(9,"p",17),r.fc(10," What makes anything worth saying is that it achieves a purpose. The central thought in this booklet is aimed at providing a change in perspective such that life's challenges are no longer seen as suffering but obstacles to overcome. Words are not enough in revealing the truth about the route to successful living, but it is the stimulant in search of the hidden treasures of the mind. True living, characterised by control over the self regardless of circumstance can only be reached by a willing exploration of life's truths buried deep within the being. It is the key to success in relationships, business or social. "),r.Nb(),r.Ob(11,"div",18),r.Mb(12,"img",19),r.Nb(),r.Nb(),r.Mb(13,"br",20),r.Nb())}function ao(t,e){1&t&&(r.Ob(0,"div",13),r.Ob(1,"h6",21),r.fc(2,"Author's Note"),r.Nb(),r.Ob(3,"div",14),r.Ob(4,"div",22),r.Mb(5,"img",23),r.Nb(),r.Ob(6,"div",24),r.Ob(7,"p",25),r.fc(8," I've worked in the healthcare industry for 7 years, with a background in Computer Science before resigning to become a full time explorer, writer and entrepreneur. The change came as a result of suffering a series of traumatic events including a divorce from my young marriage with no children, leaving me empty and lacking meaning or a sense of direction for what next. With nothing to do, I poured myself into reading, stumbling across philosophy and psychology among others. I practised meditation and spirituality while conducting experiments to observe the nature of reality and humans in the search for that which constitues proper living. At the time of this writing, I am 32, feeling alive and consciously looking for the spark of passion that makes life's challenges worth it."),r.Mb(9,"br"),r.Mb(10,"br"),r.Ob(11,"b"),r.fc(12,"David O."),r.Nb(),r.Mb(13,"br"),r.fc(14," Writer, Philosopher, Entrepreneur"),r.Mb(15,"br"),r.Mb(16,"img",26),r.fc(17,"\xa0 "),r.Ob(18,"a",27),r.fc(19,"https://www.linkedin.com/in/olakunle-david-bello/"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Mb(20,"br",20),r.Nb())}let uo=(()=>{class t{constructor(t){this.route=t,this.email="",this.done=!1,this.ax=ue.a.create({baseURL:`${oe}`,timeout:5e3})}ngOnInit(){this.ax.post(`${oe}api/users/ping`).then(t=>{}).catch(t=>{console.log(t)})}emailCustomer(){if(!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(this.email).toLowerCase()))return void window.alert("Please check the email to be sure it's correct");const t=-1==window.location.href.indexOf("github")?"productscene":"github";this.postRequest("api/into-the-wind/send-pdf-link",{email:this.email,baseURL:t}).then(t=>{t&&(this.done=t.data.done)}).catch(t=>{console.log(t)})}sendComplaints(){this.postRequest("api/into-the-wind/send-complaint",{complaint:this.complaint,email:this.email}).then(t=>{if(t){const e=JSON.parse(t.data.response);console.log(e),window.alert(e.message)}}).catch(t=>{console.log(t)})}postRequest(t,e){return this.ax.post(`${oe}${t}`,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(vr))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-thank-you"]],decls:11,vars:6,consts:[[1,"bg","text-center",2,"padding","5em 0"],[1,"tt"],["type","email","placeholder","Your email to receive the item",1,"input",3,"disabled","ngModel","ngModelChange"],[1,"out",3,"click"],["class","ttr text-center","style","margin-top: -1em; padding: 2em;",4,"ngIf"],["class","ttr","style","margin-top: -1em; padding: 2em;",4,"ngIf"],[2,"background-color","#e3e3e35e"],[1,"ttr","text-center",2,"margin-top","-1em","padding","2em"],[1,"tr",2,"margin-bottom","0"],[2,"font-size","18px"],["type","text","placeholder","Enter your comments here",1,"input",2,"margin-top","-2em",3,"ngModel","ngModelChange"],["class","out","style","margin-left: 10px; background: #686ecc; border: 1px solid #686ecc;",3,"click",4,"ngIf"],[1,"out",2,"margin-left","10px","background","#686ecc","border","1px solid #686ecc",3,"click"],[1,"ttr",2,"margin-top","-1em","padding","2em"],[2,"color","#182f2e","font-size","20px"],[1,""],[1,"tr1",2,"margin-bottom","0"],[2,"float","left","font-size","18px","text-align","justify","width","calc(100% - 400px)"],[1,"text-center",2,"float","right","width","360px","padding","0 1em"],["src","./assets/itw.png","alt","",1,"scxx",2,"margin-top","1em","width","100%"],[2,"clear","both"],[1,"tr1",2,"margin-bottom","0","margin-left","146px"],[2,"float","left"],["src","./assets/d.png","alt","",1,"scx"],[2,"float","left","width","calc(100% - 128px)"],[2,"font-size","18px","margin-left","1em","text-align","justify"],["src","./assets/li.png","alt","",2,"width","20px"],["href","https://www.linkedin.com/in/olakunle-david-bello/",2,"position","relative","top","-5px","font-size","12px"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h2",1),r.fc(2,"Into The World"),r.Nb(),r.Ob(3,"input",2),r.Vb("ngModelChange",function(t){return e.email=t}),r.Nb(),r.Mb(4,"br"),r.Ob(5,"button",3),r.Vb("click",function(){return e.emailCustomer()}),r.fc(6),r.Nb(),r.Nb(),r.ec(7,oo,8,2,"div",4),r.ec(8,so,14,0,"div",5),r.Ob(9,"div",6),r.ec(10,ao,21,0,"div",5),r.Nb()),2&t&&(r.Bb(3),r.Yb("disabled",1==e.done)("ngModel",e.email),r.Bb(3),r.gc(0==e.done?"Email Me My PDF":"Resend Email"),r.Bb(1),r.Yb("ngIf",1==e.done),r.Bb(1),r.Yb("ngIf",0==e.done),r.Bb(2),r.Yb("ngIf",0==e.done))},directives:[_t,Lt,ee,x],styles:[""]}),t})();var co=n("D0XW");function lo(){return t=>t.lift(new ho)}class ho{call(t,e){return e.subscribe(new fo(t))}}class fo extends pe.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class po{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new go(t,this.compare,this.keySelector))}}class go extends pe.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var mo=n("pxpQ"),yo=n("spgP"),vo=n("Jgta"),bo=n("zIRd"),wo=n("mrSG"),_o=n("qOnz"),So=n("q/0M"),Eo=function(t,e){return(Eo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Oo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var To,Co="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Io=Io||{},xo=Co||self;function Ao(){}function jo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ko(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var No="closure_uid_"+(1e9*Math.random()>>>0),Do=0;function Ro(t,e,n){return t.call.apply(t.bind,arguments)}function Po(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Lo(t,e,n){return(Lo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ro:Po).apply(null,arguments)}function Vo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Mo(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Fo(){this.s=this.s,this.o=this.o}var Uo={};Fo.prototype.s=!1,Fo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,No)&&t[No]||(t[No]=++Do)}(this);delete Uo[t]}},Fo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var qo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Bo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ho(t){return Array.prototype.concat.apply([],arguments)}function zo(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Go(t){return/^[\s\xa0]*$/.test(t)}var Wo,$o=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ko(t,e){return-1!=t.indexOf(e)}function Qo(t,e){return t<e?-1:t>e?1:0}t:{var Yo=xo.navigator;if(Yo){var Jo=Yo.userAgent;if(Jo){Wo=Jo;break t}}Wo=""}function Xo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Zo(t){var e={};for(var n in t)e[n]=t[n];return e}var ts="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function es(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ts.length;o++)n=ts[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ns(t){return ns[" "](t),t}ns[" "]=Ao;var rs,is,os=Ko(Wo,"Opera"),ss=Ko(Wo,"Trident")||Ko(Wo,"MSIE"),as=Ko(Wo,"Edge"),us=as||ss,cs=Ko(Wo,"Gecko")&&!(Ko(Wo.toLowerCase(),"webkit")&&!Ko(Wo,"Edge"))&&!(Ko(Wo,"Trident")||Ko(Wo,"MSIE"))&&!Ko(Wo,"Edge"),ls=Ko(Wo.toLowerCase(),"webkit")&&!Ko(Wo,"Edge");function hs(){var t=xo.document;return t?t.documentMode:void 0}t:{var fs="",ds=(is=Wo,cs?/rv:([^\);]+)(\)|;)/.exec(is):as?/Edge\/([\d\.]+)/.exec(is):ss?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(is):ls?/WebKit\/(\S+)/.exec(is):os?/(?:Version)[ \/]?(\S+)/.exec(is):void 0);if(ds&&(fs=ds?ds[1]:""),ss){var ps=hs();if(null!=ps&&ps>parseFloat(fs)){rs=String(ps);break t}}rs=fs}var gs={};var ms=xo.document&&ss&&(hs()||parseInt(rs,10))||void 0,ys=function(){if(!xo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{xo.addEventListener("test",Ao,e),xo.removeEventListener("test",Ao,e)}catch(n){}return t}();function vs(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function bs(t,e){if(vs.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cs){t:{try{ns(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ws[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bs.Z.h.call(this)}}vs.prototype.h=function(){this.defaultPrevented=!0},Mo(bs,vs);var ws={2:"touch",3:"pen",4:"mouse"};bs.prototype.h=function(){bs.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _s="closure_listenable_"+(1e6*Math.random()|0),Ss=0;function Es(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ss,this.ca=this.fa=!1}function Os(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ts(t){this.src=t,this.g={},this.h=0}function Cs(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=qo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Os(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Is(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Ts.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Is(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new Es(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var xs="closure_lm_"+(1e6*Math.random()|0),As={};function js(t,e,n,r,i){if(r&&r.once)return Ns(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)js(t,e[o],n,r,i);return null}return n=Fs(n),t&&t[_s]?t.N(e,n,ko(r)?!!r.capture:!!r,i):ks(t,e,n,!1,r,i)}function ks(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ko(i)?!!i.capture:!!i,a=Vs(t);if(a||(t[xs]=a=new Ts(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ls;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ys||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ps(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ns(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ns(t,e[o],n,r,i);return null}return n=Fs(n),t&&t[_s]?t.O(e,n,ko(r)?!!r.capture:!!r,i):ks(t,e,n,!0,r,i)}function Ds(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ds(t,e[o],n,r,i);else r=ko(r)?!!r.capture:!!r,n=Fs(n),t&&t[_s]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Is(o=t.g[e],n,r,i))&&(Os(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Vs(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Is(e,n,r,i)),(n=-1<t?e[t]:null)&&Rs(n))}function Rs(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[_s])Cs(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ps(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vs(e))?(Cs(n,t),0==n.h&&(n.src=null,e[xs]=null)):Os(t)}}}function Ps(t){return t in As?As[t]:As[t]="on"+t}function Ls(t,e){if(t.ca)t=!0;else{e=new bs(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Rs(t),t=n.call(r,e)}return t}function Vs(t){return(t=t[xs])instanceof Ts?t:null}var Ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fs(t){return"function"==typeof t?t:(t[Ms]||(t[Ms]=function(e){return t.handleEvent(e)}),t[Ms])}function Us(){Fo.call(this),this.i=new Ts(this),this.P=this,this.I=null}function qs(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new vs(e,t);else if(e instanceof vs)e.target=e.target||t;else{var i=e;es(e=new vs(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Bs(s,r,!0,e)&&i}if(i=Bs(s=e.g=t,r,!0,e)&&i,i=Bs(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Bs(s=e.g=n[o],r,!1,e)&&i}function Bs(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Cs(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Mo(Us,Fo),Us.prototype[_s]=!0,Us.prototype.removeEventListener=function(t,e,n,r){Ds(this,t,e,n,r)},Us.prototype.M=function(){if(Us.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Os(n[r]);delete e.g[t],e.h--}}this.I=null},Us.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Us.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Hs=xo.JSON.stringify;function zs(){var t=Xs,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Gs,Ws=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=$s.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),$s=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new Ks},function(t){return t.reset()}),Ks=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Qs(t){xo.setTimeout(function(){throw t},0)}function Ys(t,e){Gs||function(){var t=xo.Promise.resolve(void 0);Gs=function(){t.then(Zs)}}(),Js||(Gs(),Js=!0),Xs.add(t,e)}var Js=!1,Xs=new Ws;function Zs(){for(var t;t=zs();){try{t.h.call(t.g)}catch(n){Qs(n)}var e=$s;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Js=!1}function ta(t,e){Us.call(this),this.h=t||1,this.g=e||xo,this.j=Lo(this.kb,this),this.l=Date.now()}function ea(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function na(t,e,n){if("function"==typeof t)n&&(t=Lo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Lo(t.handleEvent,t)}return 2147483647<Number(e)?-1:xo.setTimeout(t,e||0)}function ra(t){t.g=na(function(){t.g=null,t.i&&(t.i=!1,ra(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Mo(ta,Us),(To=ta.prototype).da=!1,To.S=null,To.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qs(this,"tick"),this.da&&(ea(this),this.start()))}},To.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},To.M=function(){ta.Z.M.call(this),ea(this),delete this.g};var ia=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Eo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:ra(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(xo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Fo);function oa(t){Fo.call(this),this.h=t,this.g={}}Mo(oa,Fo);var sa=[];function aa(t,e,n,r){Array.isArray(n)||(n&&(sa[0]=n.toString()),n=sa);for(var i=0;i<n.length;i++){var o=js(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function ua(t){Xo(t.g,function(t,e){this.g.hasOwnProperty(e)&&Rs(t)},t),t.g={}}function ca(){this.g=!0}function la(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Hs(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}oa.prototype.M=function(){oa.Z.M.call(this),ua(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ca.prototype.Aa=function(){this.g=!1},ca.prototype.info=function(){};var ha={},fa=null;function da(){return fa=fa||new Us}function pa(t){vs.call(this,ha.Ma,t)}function ga(t){var e=da();qs(e,new pa(e,t))}function ma(t,e){vs.call(this,ha.STAT_EVENT,t),this.stat=e}function ya(t){var e=da();qs(e,new ma(e,t))}function va(t,e){vs.call(this,ha.Na,t),this.size=e}function ba(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return xo.setTimeout(function(){t()},e)}ha.Ma="serverreachability",Mo(pa,vs),ha.STAT_EVENT="statevent",Mo(ma,vs),ha.Na="timingevent",Mo(va,vs);var wa={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_a={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sa(){}function Ea(){}Sa.prototype.h=null;var Oa,Ta={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ca(){vs.call(this,"d")}function Ia(){vs.call(this,"c")}function xa(){}function Aa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new oa(this),this.P=ka,this.W=new ta(t=us?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ja}function ja(){this.i=null,this.g="",this.h=!1}Mo(Ca,vs),Mo(Ia,vs),Mo(xa,Sa),xa.prototype.g=function(){return new XMLHttpRequest},xa.prototype.i=function(){return{}},Oa=new xa;var ka=45e3,Na={},Da={};function Ra(t,e,n){t.K=1,t.v=ru(Ja(e)),t.s=n,t.U=!0,Pa(t,null)}function Pa(t,e){t.F=Date.now(),Fa(t),t.A=Ja(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),mu(n.h,"t",r),t.C=0,n=t.l.H,t.h=new ja,t.g=yc(t.l,n?e:null,!t.s),0<t.O&&(t.L=new ia(Lo(t.Ia,t,t.g),t.O)),aa(t.V,t.g,"readystatechange",t.gb),e=t.H?Zo(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ga(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function La(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Va(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Ma(t,n))==Da){4==e&&(t.o=4,ya(14),i=!1),la(t.j,t.m,null,"[Incomplete Response]");break}if(r==Na){t.o=4,ya(15),la(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}la(t.j,t.m,r,null),za(t,r)}La(t)&&r!=Da&&r!=Na&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ya(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cc(e),e.L=!0,ya(11))):(la(t.j,t.m,n,"[Invalid Chunked Response]"),Ha(t),Ba(t))}function Ma(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Da:(n=Number(e.substring(n,r)),isNaN(n)?Na:(r+=1)+n>e.length?Da:(e=e.substr(r,n),t.C=r+n,e))}function Fa(t){t.Y=Date.now()+t.P,Ua(t,t.P)}function Ua(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ba(Lo(t.eb,t),e)}function qa(t){t.B&&(xo.clearTimeout(t.B),t.B=null)}function Ba(t){0==t.l.G||t.I||fc(t.l,t)}function Ha(t){qa(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,ea(t.W),ua(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function za(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Eu(n.i,t)))if(n.I=t.N,!t.J&&Eu(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;hc(n),tc(n)}uc(n),ya(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ba(Lo(n.ab,n),6e3));if(1>=Su(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else pc(n,11)}else if((t.J||n.g==t)&&hc(n),!Go(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Ko(l,"spdy")||Ko(l,"quic")||Ko(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Ou(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,nu(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=mc(r,r.H?r.la:null,r.W),d.J){Tu(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(qa(p),Fa(p)),r.g=d}else ac(r);0<n.l.length&&rc(n)}else"stop"!=o[0]&&"close"!=o[0]||pc(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?pc(n,7):Zu(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}ga(4)}catch(o){}}function Ga(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(jo(t)||"string"==typeof t)Bo(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(jo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(jo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Wa(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Wa)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function $a(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ka(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ka(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ka(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(To=Aa.prototype).setTimeout=function(t){this.P=t},To.gb=function(t){t=t.target;var e=this.L;e&&3==Ku(t)?e.l():this.Ia(t)},To.Ia=function(t){try{if(t==this.g)t:{var e=Ku(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||us||this.g&&(this.h.h||this.g.ga()||Qu(this.g)))){this.I||4!=e||7==n||ga(8==n||0>=r?3:2),qa(this);var i=this.g.ba();this.N=i;e:if(La(this)){var o=Qu(this.g);t="";var s=o.length,a=4==Ku(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ha(this),Ba(this);var u="";break e}this.h.i=new xo.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Go(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,ya(12),Ha(this),Ba(this);break t}la(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,za(this,i)}this.U?(Va(this,e,u),us&&this.i&&3==e&&(aa(this.V,this.W,"tick",this.fb),this.W.start())):(la(this.j,this.m,u,null),za(this,u)),4==e&&Ha(this),this.i&&!this.I&&(4==e?fc(this.l,this):(this.i=!1,Fa(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ya(12)):(this.o=0,ya(13)),Ha(this),Ba(this)}}}catch(e){}},To.fb=function(){if(this.g){var t=Ku(this.g),e=this.g.ga();this.C<e.length&&(qa(this),Va(this,t,e),this.i&&4!=t&&Fa(this))}},To.cancel=function(){this.I=!0,Ha(this)},To.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ga(3),ya(17)),Ha(this),this.o=2,Ba(this)):Ua(this,this.Y-t)},(To=Wa.prototype).R=function(){$a(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},To.T=function(){return $a(this),this.g.concat()},To.get=function(t,e){return Ka(this.h,t)?this.h[t]:e},To.set=function(t,e){Ka(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},To.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Qa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ya(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ya){this.g=void 0!==e?e:t.g,Xa(this,t.j),this.s=t.s,Za(this,t.i),tu(this,t.m),this.l=t.l,e=t.h;var n=new fu;n.i=e.i,e.g&&(n.g=new Wa(e.g),n.h=e.h),eu(this,n),this.o=t.o}else t&&(n=String(t).match(Qa))?(this.g=!!e,Xa(this,n[1]||"",!0),this.s=iu(n[2]||""),Za(this,n[3]||"",!0),tu(this,n[4]),this.l=iu(n[5]||"",!0),eu(this,n[6]||"",!0),this.o=iu(n[7]||"")):(this.g=!!e,this.h=new fu(null,this.g))}function Ja(t){return new Ya(t)}function Xa(t,e,n){t.j=n?iu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Za(t,e,n){t.i=n?iu(e,!0):e}function tu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function eu(t,e,n){e instanceof fu?(t.h=e,function(t,e){e&&!t.j&&(du(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(pu(this,e),mu(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=ou(e,lu)),t.h=new fu(e,t.g))}function nu(t,e,n){t.h.set(e,n)}function ru(t){return nu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function iu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ou(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,su),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function su(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ya.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ou(e,au,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ou(e,au,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(ou(n,"/"==n.charAt(0)?cu:uu,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ou(n,hu)),t.join("")};var au=/[#\/\?@]/g,uu=/[#\?:]/g,cu=/[#\?]/g,lu=/[#\?@]/g,hu=/#/g;function fu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function du(t){t.g||(t.g=new Wa,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function pu(t,e){du(t),e=yu(t,e),Ka(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ka((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&$a(t)))}function gu(t,e){return du(t),e=yu(t,e),Ka(t.g.h,e)}function mu(t,e,n){pu(t,e),0<n.length&&(t.i=null,t.g.set(yu(t,e),zo(n)),t.h+=n.length)}function yu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(To=fu.prototype).add=function(t,e){du(this),this.i=null,t=yu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},To.forEach=function(t,e){du(this),this.g.forEach(function(n,r){Bo(n,function(n){t.call(e,n,r,this)},this)},this)},To.T=function(){du(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},To.R=function(t){du(this);var e=[];if("string"==typeof t)gu(this,t)&&(e=Ho(e,this.g.get(yu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Ho(e,t[n])}return e},To.set=function(t,e){return du(this),this.i=null,gu(this,t=yu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},To.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},To.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var vu=function(){return function(t,e){this.h=t,this.g=e}}();function bu(t){this.l=t||wu,t=xo.PerformanceNavigationTiming?0<(t=xo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(xo.g&&xo.g.Ea&&xo.g.Ea()&&xo.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wu=10;function _u(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Su(t){return t.h?1:t.g?t.g.size:0}function Eu(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ou(t,e){t.g?t.g.add(e):t.h=e}function Tu(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Cu(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Oo(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return zo(t.i)}function Iu(){}function xu(){this.g=new Iu}function Au(t,e,n){var r=n||"";try{Ga(t,function(t,n){var i=t;ko(t)&&(i=Hs(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Vb){throw e.push(r+"type="+encodeURIComponent("_badmap")),Vb}}function ju(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function ku(t){this.l=t.$b||null,this.j=t.ib||!1}function Nu(t,e){Us.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Du,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bu.prototype.cancel=function(){var t,e;if(this.i=Cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Oo(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Iu.prototype.stringify=function(t){return xo.JSON.stringify(t,void 0)},Iu.prototype.parse=function(t){return xo.JSON.parse(t,void 0)},Mo(ku,Sa),ku.prototype.g=function(){return new Nu(this.l,this.j)},ku.prototype.i=function(t){return function(){return t}}({}),Mo(Nu,Us);var Du=0;function Ru(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Pu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Lu(t)}function Lu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(To=Nu.prototype).open=function(t,e){if(this.readyState!=Du)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Lu(this)},To.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||xo).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},To.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pu(this)),this.readyState=Du},To.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Lu(this)),this.g&&(this.readyState=3,Lu(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==xo.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ru(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},To.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pu(this):Lu(this),3==this.readyState&&Ru(this)}},To.Ua=function(t){this.g&&(this.response=this.responseText=t,Pu(this))},To.Ta=function(t){this.g&&(this.response=t,Pu(this))},To.ha=function(){this.g&&Pu(this)},To.setRequestHeader=function(t,e){this.v.append(t,e)},To.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},To.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Nu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Vu=xo.JSON.parse;function Mu(t){Us.call(this),this.headers=new Wa,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fu,this.K=this.L=!1}Mo(Mu,Us);var Fu="",Uu=/^https?$/i,qu=["POST","PUT"];function Bu(t){return"content-type"==t.toLowerCase()}function Hu(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zu(t),Wu(t)}function zu(t){t.D||(t.D=!0,qs(t,"complete"),qs(t,"error"))}function Gu(t){if(t.h&&void 0!==Io&&(!t.C[1]||4!=Ku(t)||2!=t.ba()))if(t.v&&4==Ku(t))na(t.Fa,0,t);else if(qs(t,"readystatechange"),4==Ku(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Qa)[1]||null;if(!o&&xo.self&&xo.self.location){var s=xo.self.location.protocol;o=s.substr(0,s.length-1)}i=!Uu.test(o?o.toLowerCase():"")}e=i}if(e)qs(t,"complete"),qs(t,"success");else{t.m=6;try{var a=2<Ku(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",zu(t)}}finally{Wu(t)}}}function Wu(t,e){if(t.g){$u(t);var n=t.g,r=t.C[0]?Ao:null;t.g=null,t.C=null,e||qs(t,"ready");try{n.onreadystatechange=r}catch(Vb){}}}function $u(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(xo.clearTimeout(t.A),t.A=null)}function Ku(t){return t.g?t.g.readyState:0}function Qu(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Fu:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Yu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Xo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):nu(t,e,n))}function Ju(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Xu(t){this.za=0,this.l=[],this.h=new ca,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ju("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ju("baseRetryDelayMs",5e3,t),this.$a=Ju("retryDelaySeedMs",1e4,t),this.Ya=Ju("forwardChannelMaxRetries",2,t),this.ra=Ju("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new bu(t&&t.concurrentRequestLimit),this.Ca=new xu,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Zu(t){if(ec(t),3==t.G){var e=t.V++,n=Ja(t.F);nu(n,"SID",t.J),nu(n,"RID",e),nu(n,"TYPE","terminate"),oc(t,n),(e=new Aa(t,t.h,e,void 0)).K=2,e.v=ru(Ja(n)),n=!1,xo.navigator&&xo.navigator.sendBeacon&&(n=xo.navigator.sendBeacon(e.v.toString(),"")),!n&&xo.Image&&((new Image).src=e.v,n=!0),n||(e.g=yc(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Fa(e)}gc(t)}function tc(t){t.g&&(cc(t),t.g.cancel(),t.g=null)}function ec(t){tc(t),t.u&&(xo.clearTimeout(t.u),t.u=null),hc(t),t.i.cancel(),t.m&&("number"==typeof t.m&&xo.clearTimeout(t.m),t.m=null)}function nc(t,e){t.l.push(new vu(t.Za++,e)),3==t.G&&rc(t)}function rc(t){_u(t.i)||t.m||(t.m=!0,Ys(t.Ha,t),t.C=0)}function ic(t,e){var n;n=e?e.m:t.V++;var r=Ja(t.F);nu(r,"SID",t.J),nu(r,"RID",n),nu(r,"AID",t.U),oc(t,r),t.o&&t.s&&Yu(r,t.o,t.s),n=new Aa(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=sc(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ou(t.i,n),Ra(n,r,e)}function oc(t,e){t.j&&Ga({},function(t,n){nu(e,n,t)})}function sc(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Lo(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{Au(l,s,"req"+c+"_")}catch(Yc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function ac(t){t.g||t.u||(t.Y=1,Ys(t.Ga,t),t.A=0)}function uc(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ba(Lo(t.Ga,t),dc(t,t.A)),t.A++,0))}function cc(t){null!=t.B&&(xo.clearTimeout(t.B),t.B=null)}function lc(t){t.g=new Aa(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ja(t.oa);nu(e,"RID","rpc"),nu(e,"SID",t.J),nu(e,"CI",t.N?"0":"1"),nu(e,"AID",t.U),oc(t,e),nu(e,"TYPE","xmlhttp"),t.o&&t.s&&Yu(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ru(Ja(e)),n.s=null,n.U=!0,Pa(n,t)}function hc(t){null!=t.v&&(xo.clearTimeout(t.v),t.v=null)}function fc(t,e){var n=null;if(t.g==e){hc(t),cc(t),t.g=null;var r=2}else{if(!Eu(t.i,e))return;n=e.D,Tu(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;qs(r=da(),new va(r,n,e,i)),rc(t)}else ac(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Su(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ba(Lo(t.Ha,t,e),dc(t,t.C)),t.C++,0)))}(t,e)||2==r&&uc(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:pc(t,5);break;case 4:pc(t,10);break;case 3:pc(t,6);break;default:pc(t,2)}}function dc(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function pc(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Lo(t.jb,t);n||(n=new Ya("//www.google.com/images/cleardot.gif"),xo.location&&"http"==xo.location.protocol||Xa(n,"https"),ru(n)),function(t,e){var n=new ca;if(xo.Image){var r=new Image;r.onload=Vo(ju,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Vo(ju,n,r,"TestLoadImage: error",!1,e),r.onabort=Vo(ju,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vo(ju,n,r,"TestLoadImage: timeout",!1,e),xo.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ya(2);t.G=0,t.j&&t.j.va(e),gc(t),ec(t)}function gc(t){t.G=0,t.I=-1,t.j&&(0==Cu(t.i).length&&0==t.l.length||(t.i.i.length=0,zo(t.l),t.l.length=0),t.j.ua())}function mc(t,e,n){var r=function(t){return t instanceof Ya?Ja(t):new Ya(t,void 0)}(n);if(""!=r.i)e&&Za(r,e+"."+r.i),tu(r,r.m);else{var i=xo.location;r=function(t,e,n,r){var i=new Ya(null,void 0);return t&&Xa(i,t),e&&Za(i,e),n&&tu(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Xo(t.aa,function(t,e){nu(r,e,t)}),n=t.sa,(e=t.D)&&n&&nu(r,e,n),nu(r,"VER",t.ma),oc(t,r),r}function yc(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mu(n&&t.Ba&&!t.qa?new ku({ib:!0}):t.qa)).L=t.H,e}function vc(){}function bc(){if(ss&&!(10<=Number(ms)))throw Error("Environmental error: no available transport.")}function wc(t,e){Us.call(this),this.g=new Xu(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Go(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Go(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ec(this)}function _c(t){Ca.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Sc(){Ia.call(this),this.status=1}function Ec(t){this.g=t}(To=Mu.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Oa.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Oa),this.g.onreadystatechange=Lo(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Hu(this,o)}t=n||"";var i=new Wa(this.headers);r&&Ga(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Bu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=xo.FormData&&t instanceof xo.FormData,!(0<=qo(qu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$u(this),0<this.B&&((this.K=function(t){return ss&&function(){return t=gs,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=$o(String(rs)).split("."),n=$o("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=Qo(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||Qo(0==o[2].length,0==s[2].length)||Qo(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lo(this.pa,this)):this.A=na(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Hu(this,o)}},To.pa=function(){void 0!==Io&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qs(this,"timeout"),this.abort(8))},To.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qs(this,"complete"),qs(this,"abort"),Wu(this))},To.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wu(this,!0)),Mu.Z.M.call(this)},To.Fa=function(){this.s||(this.F||this.v||this.l?Gu(this):this.cb())},To.cb=function(){Gu(this)},To.ba=function(){try{return 2<Ku(this)?this.g.status:-1}catch(is){return-1}},To.ga=function(){try{return this.g?this.g.responseText:""}catch(is){return""}},To.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Vu(e)}},To.Da=function(){return this.m},To.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(To=Xu.prototype).ma=8,To.G=1,To.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},To.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Aa(this,this.h,t,void 0),n=this.s;if(this.P&&(n?es(n=Zo(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=sc(this,e,r),nu(i=Ja(this.F),"RID",t),nu(i,"CVER",22),this.D&&nu(i,"X-HTTP-Session-Id",this.D),oc(this,i),this.o&&n&&Yu(i,this.o,n),Ou(this.i,e),this.Ra&&nu(i,"TYPE","init"),this.ja?(nu(i,"$req",r),nu(i,"SID","null"),e.$=!0,Ra(e,i,null)):Ra(e,i,r),this.G=2}}else 3==this.G&&(t?ic(this,t):0==this.l.length||_u(this.i)||ic(this))},To.Ga=function(){if(this.u=null,lc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ba(Lo(this.bb,this),t)}},To.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ya(10),tc(this),lc(this))},To.ab=function(){null!=this.v&&(this.v=null,tc(this),uc(this),ya(19))},To.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ya(2)):(this.h.info("Failed to ping google.com"),ya(1))},(To=vc.prototype).xa=function(){},To.wa=function(){},To.va=function(){},To.ua=function(){},To.Oa=function(){},bc.prototype.g=function(t,e){return new wc(t,e)},Mo(wc,Us),wc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ys(Lo(t.hb,t,e))),ya(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=mc(t,null,t.W),rc(t)},wc.prototype.close=function(){Zu(this.g)},wc.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,nc(this.g,e)}else this.v?((e={}).__data__=Hs(t),nc(this.g,e)):nc(this.g,t)},wc.prototype.M=function(){this.g.j=null,delete this.j,Zu(this.g),delete this.g,wc.Z.M.call(this)},Mo(_c,Ca),Mo(Sc,Ia),Mo(Ec,vc),Ec.prototype.xa=function(){qs(this.g,"a")},Ec.prototype.wa=function(t){qs(this.g,new _c(t))},Ec.prototype.va=function(t){qs(this.g,new Sc(t))},Ec.prototype.ua=function(){qs(this.g,"b")},bc.prototype.createWebChannel=bc.prototype.g,wc.prototype.send=wc.prototype.u,wc.prototype.open=wc.prototype.m,wc.prototype.close=wc.prototype.close,wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,_a.COMPLETE="complete",Ea.EventType=Ta,Ta.OPEN="a",Ta.CLOSE="b",Ta.ERROR="c",Ta.MESSAGE="d",Us.prototype.listen=Us.prototype.N,Mu.prototype.listenOnce=Mu.prototype.O,Mu.prototype.getLastError=Mu.prototype.La,Mu.prototype.getLastErrorCode=Mu.prototype.Da,Mu.prototype.getStatus=Mu.prototype.ba,Mu.prototype.getResponseJson=Mu.prototype.Qa,Mu.prototype.getResponseText=Mu.prototype.ga,Mu.prototype.send=Mu.prototype.ea;var Oc=wa,Tc=_a,Cc=ha,Ic=ku,xc=Ea,Ac=Mu,jc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();jc.o=-1;var kc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Nc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(wo.c)(e,t),e}(Error),Dc=new So.b("@firebase/firestore");function Rc(){return Dc.logLevel}function Pc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Dc.logLevel<=So.a.DEBUG){var r=e.map(Mc);Dc.debug.apply(Dc,Object(wo.f)(["Firestore (8.10.0): "+t],r))}}function Lc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Dc.logLevel<=So.a.ERROR){var r=e.map(Mc);Dc.error.apply(Dc,Object(wo.f)(["Firestore (8.10.0): "+t],r))}}function Vc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Dc.logLevel<=So.a.WARN){var r=e.map(Mc);Dc.warn.apply(Dc,Object(wo.f)(["Firestore (8.10.0): "+t],r))}}function Mc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Vb){return t}}function Fc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw Lc(e),new Error(e)}function Uc(t,e){t||Fc()}function qc(t,e){return t}function Bc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Hc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Bc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function zc(t,e){return t<e?-1:t>e?1:0}function Gc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Wc(t){return t+"\0"}var $c=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Nc(kc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Nc(kc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Nc(kc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nc(kc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?zc(this.nanoseconds,t.nanoseconds):zc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Kc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new $c(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Qc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Xc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Fc(),void 0===n?n=t.length-e:n>t.length-e&&Fc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Zc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Nc(kc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Xc),tl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,el=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return tl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Nc(kc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Nc(kc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Nc(kc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Nc(kc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Xc),nl=function(){function t(t){this.fields=t,t.sort(el.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Gc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),rl=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return zc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();rl.EMPTY_BYTE_STRING=new rl("");var il=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ol(t){if(Uc(!!t),"string"==typeof t){var e=0,n=il.exec(t);if(Uc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:sl(t.seconds),nanos:sl(t.nanos)}}function sl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function al(t){return"string"==typeof t?rl.fromBase64String(t):rl.fromUint8Array(t)}function ul(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function cl(t){var e=t.mapValue.fields.__previous_value__;return ul(e)?cl(e):e}function ll(t){var e=ol(t.mapValue.fields.__local_write_time__.timestampValue);return new $c(e.seconds,e.nanos)}function hl(t){return null==t}function fl(t){return 0===t&&1/t==-1/0}function dl(t){return"number"==typeof t&&Number.isInteger(t)&&!fl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var pl=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Zc.fromString(e))},t.fromName=function(e){return new t(Zc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Zc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Zc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Zc(e.slice()))},t}();function gl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ul(t)?4:10:Fc()}function ml(t,e){var n=gl(t);if(n!==gl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ll(t).isEqual(ll(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ol(t.timestampValue),r=ol(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return al(t.bytesValue).isEqual(al(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return sl(t.geoPointValue.latitude)===sl(e.geoPointValue.latitude)&&sl(t.geoPointValue.longitude)===sl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return sl(t.integerValue)===sl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=sl(t.doubleValue),r=sl(e.doubleValue);return n===r?fl(n)===fl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Gc(t.arrayValue.values||[],e.arrayValue.values||[],ml);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Qc(n)!==Qc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ml(n[i],r[i])))return!1;return!0}(t,e);default:return Fc()}}function yl(t,e){return void 0!==(t.values||[]).find(function(t){return ml(t,e)})}function vl(t,e){var n=gl(t),r=gl(e);if(n!==r)return zc(n,r);switch(n){case 0:return 0;case 1:return zc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=sl(t.integerValue||t.doubleValue),r=sl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return bl(t.timestampValue,e.timestampValue);case 4:return bl(ll(t),ll(e));case 5:return zc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=al(t),r=al(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=zc(n[i],r[i]);if(0!==o)return o}return zc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=zc(sl(t.latitude),sl(e.latitude));return 0!==n?n:zc(sl(t.longitude),sl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=vl(n[i],r[i]);if(o)return o}return zc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=zc(r[s],o[s]);if(0!==a)return a;var u=vl(n[r[s]],i[o[s]]);if(0!==u)return u}return zc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Fc()}}function bl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return zc(t,e);var n=ol(t),r=ol(e),i=zc(n.seconds,r.seconds);return 0!==i?i:zc(n.nanos,r.nanos)}function wl(t){return _l(t)}function _l(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ol(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?al(t.bytesValue).toBase64():"referenceValue"in t?pl.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=_l(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+_l(t.fields[o])}return e+"}"}(t.mapValue):Fc();var e}function Sl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function El(t){return!!t&&"integerValue"in t}function Ol(t){return!!t&&"arrayValue"in t}function Tl(t){return!!t&&"nullValue"in t}function Cl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Il(t){return!!t&&"mapValue"in t}function xl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Yc(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=xl(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=xl(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Al=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Il(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=xl(e)},t.prototype.setAll=function(t){var e=this,n=el.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=xl(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Il(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return ml(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Il(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Yc(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(xl(this.value))},t}();function jl(t){var e=[];return Yc(t.fields,function(t,n){var r=new el([t]);if(Il(n)){var i=jl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new nl(e)}var kl=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Kc.min(),Al.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Al.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Al.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Al.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Al.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Nl=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Dl(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Nl(t,e,n,r,i,o,s)}function Rl(t){var e=qc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+wl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),hl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=$l(e.startAt)),e.endAt&&(n+="|ub:",n+=$l(e.endAt)),e.h=n}return e.h}function Pl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ql(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ml(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jl(t.startAt,e.startAt)&&Jl(t.endAt,e.endAt)}function Ll(t){return pl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Vl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(wo.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ml(t,n,r):"array-contains"===n?new Bl(t,r):"in"===n?new Hl(t,r):"not-in"===n?new zl(t,r):"array-contains-any"===n?new Gl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Fl(t,n):new Ul(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(vl(e,this.value)):null!==e&&gl(this.value)===gl(e)&&this.m(vl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Fc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ml=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=pl.fromName(r.referenceValue),i}return Object(wo.c)(e,t),e.prototype.matches=function(t){var e=pl.comparator(t.key,this.key);return this.m(e)},e}(Vl),Fl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ql(0,n),r}return Object(wo.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Vl),Ul=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ql(0,n),r}return Object(wo.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Vl);function ql(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return pl.fromName(t.referenceValue)})}var Bl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(wo.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ol(e)&&yl(e.arrayValue,this.value)},e}(Vl),Hl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(wo.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&yl(this.value.arrayValue,e)},e}(Vl),zl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(wo.c)(e,t),e.prototype.matches=function(t){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!yl(this.value.arrayValue,e)},e}(Vl),Gl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(wo.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ol(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return yl(e.value.arrayValue,t)})},e}(Vl),Wl=function(t,e){this.position=t,this.before=e};function $l(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return wl(t)}).join(",")}var Kl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ql(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Yl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?pl.comparator(pl.fromName(s.referenceValue),n.key):vl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Jl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ml(t.position[n],e.position[n]))return!1;return!0}var Xl=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Zl(t,e,n,r,i,o,s,a){return new Xl(t,e,n,r,i,o,s,a)}function th(t){return new Xl(t)}function eh(t){return!hl(t.limit)&&"F"===t.limitType}function nh(t){return!hl(t.limit)&&"L"===t.limitType}function rh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ih(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function oh(t){return null!==t.collectionGroup}function sh(t){var e=qc(t);if(null===e.p){e.p=[];var n=ih(e),r=rh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Kl(n)),e.p.push(new Kl(el.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Kl(el.keyField(),u))}}}return e.p}function ah(t){var e=qc(t);if(!e.T)if("F"===e.limitType)e.T=Dl(e.path,e.collectionGroup,sh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=sh(e);r<i.length;r++){var o=i[r];n.push(new Kl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Wl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Wl(e.startAt.position,!e.startAt.before):null;e.T=Dl(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function uh(t,e,n){return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ch(t,e){return Pl(ah(t),ah(e))&&t.limitType===e.limitType}function lh(t){return Rl(ah(t))+"|lt:"+t.limitType}function hh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+wl(e.value);var e}).join(", ")+"]"),hl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+$l(t.startAt)),t.endAt&&(e+=", endAt: "+$l(t.endAt)),"Target("+e+")"}(ah(t))+"; limitType="+t.limitType+")"}function fh(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):pl.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Yl(t.startAt,sh(t),e)||t.endAt&&Yl(t.endAt,sh(t),e))}(t,e)}function dh(t){return function(e,n){for(var r=!1,i=0,o=sh(t);i<o.length;i++){var s=o[i],a=ph(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function ph(t,e,n){var r=t.field.isKeyField()?pl.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?vl(r,i):Fc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fc()}}function gh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fl(e)?"-0":e}}function mh(t){return{integerValue:""+t}}function yh(t,e){return dl(e)?mh(e):gh(t,e)}var vh=function(){this._=void 0};function bh(t,e,n){return t instanceof Sh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Eh?Oh(t,e):t instanceof Th?Ch(t,e):function(t,e){var n=_h(t,e),r=xh(n)+xh(t.A);return El(n)&&El(t.A)?mh(r):gh(t.R,r)}(t,e)}function wh(t,e,n){return t instanceof Eh?Oh(t,e):t instanceof Th?Ch(t,e):n}function _h(t,e){return t instanceof Ih?El(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Sh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e}(vh),Eh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(wo.c)(e,t),e}(vh);function Oh(t,e){for(var n=Ah(e),r=function(t){n.some(function(e){return ml(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Th=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(wo.c)(e,t),e}(vh);function Ch(t,e){for(var n=Ah(e),r=function(t){n=n.filter(function(e){return!ml(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ih=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(wo.c)(e,t),e}(vh);function xh(t){return sl(t.integerValue||t.doubleValue)}function Ah(t){return Ol(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var jh=function(t,e){this.field=t,this.transform=e},kh=function(t,e){this.version=t,this.transformResults=e},Nh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Dh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Rh=function(){};function Ph(t,e,n){t instanceof Uh?function(t,e,n){var r=t.value.clone(),i=Hh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof qh?function(t,e,n){if(Dh(t.precondition,e)){var r=Hh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Bh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Lh(t,e,n){t instanceof Uh?function(t,e,n){if(Dh(t.precondition,e)){var r=t.value.clone(),i=zh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Fh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof qh?function(t,e,n){if(Dh(t.precondition,e)){var r=zh(t.fieldTransforms,n,e),i=e.data;i.setAll(Bh(t)),i.setAll(r),e.convertToFoundDocument(Fh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Dh(t.precondition,e)&&e.convertToNoDocument(Kc.min())}(t,e)}function Vh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=_h(o.transform,s||null);null!=a&&(null==n&&(n=Al.empty()),n.set(o.field,a))}return n||null}function Mh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Gc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Eh&&e instanceof Eh||t instanceof Th&&e instanceof Th?Gc(t.elements,e.elements,ml):t instanceof Ih&&e instanceof Ih?ml(t.A,e.A):t instanceof Sh&&e instanceof Sh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Fh(t){return t.isFoundDocument()?t.version:Kc.min()}var Uh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(wo.c)(e,t),e}(Rh),qh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(wo.c)(e,t),e}(Rh);function Bh(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Hh(t,e,n){var r=new Map;Uc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,wh(s,a,n[i]))}return r}function zh(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,bh(a,u,e))}return r}var Gh,Wh,$h=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(wo.c)(e,t),e}(Rh),Kh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(wo.c)(e,t),e}(Rh),Qh=function(t){this.count=t};function Yh(t){switch(t){case kc.OK:return Fc();case kc.CANCELLED:case kc.UNKNOWN:case kc.DEADLINE_EXCEEDED:case kc.RESOURCE_EXHAUSTED:case kc.INTERNAL:case kc.UNAVAILABLE:case kc.UNAUTHENTICATED:return!1;case kc.INVALID_ARGUMENT:case kc.NOT_FOUND:case kc.ALREADY_EXISTS:case kc.PERMISSION_DENIED:case kc.FAILED_PRECONDITION:case kc.ABORTED:case kc.OUT_OF_RANGE:case kc.UNIMPLEMENTED:case kc.DATA_LOSS:return!0;default:return Fc()}}function Jh(t){if(void 0===t)return Lc("GRPC error has no .code"),kc.UNKNOWN;switch(t){case Gh.OK:return kc.OK;case Gh.CANCELLED:return kc.CANCELLED;case Gh.UNKNOWN:return kc.UNKNOWN;case Gh.DEADLINE_EXCEEDED:return kc.DEADLINE_EXCEEDED;case Gh.RESOURCE_EXHAUSTED:return kc.RESOURCE_EXHAUSTED;case Gh.INTERNAL:return kc.INTERNAL;case Gh.UNAVAILABLE:return kc.UNAVAILABLE;case Gh.UNAUTHENTICATED:return kc.UNAUTHENTICATED;case Gh.INVALID_ARGUMENT:return kc.INVALID_ARGUMENT;case Gh.NOT_FOUND:return kc.NOT_FOUND;case Gh.ALREADY_EXISTS:return kc.ALREADY_EXISTS;case Gh.PERMISSION_DENIED:return kc.PERMISSION_DENIED;case Gh.FAILED_PRECONDITION:return kc.FAILED_PRECONDITION;case Gh.ABORTED:return kc.ABORTED;case Gh.OUT_OF_RANGE:return kc.OUT_OF_RANGE;case Gh.UNIMPLEMENTED:return kc.UNIMPLEMENTED;case Gh.DATA_LOSS:return kc.DATA_LOSS;default:return Fc()}}(Wh=Gh||(Gh={}))[Wh.OK=0]="OK",Wh[Wh.CANCELLED=1]="CANCELLED",Wh[Wh.UNKNOWN=2]="UNKNOWN",Wh[Wh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wh[Wh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wh[Wh.NOT_FOUND=5]="NOT_FOUND",Wh[Wh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wh[Wh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wh[Wh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wh[Wh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wh[Wh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wh[Wh.ABORTED=10]="ABORTED",Wh[Wh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wh[Wh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wh[Wh.INTERNAL=13]="INTERNAL",Wh[Wh.UNAVAILABLE=14]="UNAVAILABLE",Wh[Wh.DATA_LOSS=15]="DATA_LOSS";var Xh=function(){function t(t,e){this.comparator=t,this.root=e||tf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Zh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Zh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Zh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Zh(this.root,t,this.comparator,!0)},t}(),Zh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),tf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Fc();if(this.right.isRed())throw Fc();var t=this.left.check();if(t!==this.right.check())throw Fc();return t+(this.isRed()?0:1)},t}();tf.EMPTY=null,tf.RED=!0,tf.BLACK=!1,tf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Fc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Fc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Fc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Fc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Fc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new tf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ef=function(){function t(t){this.comparator=t,this.data=new Xh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new nf(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new nf(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),nf=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),rf=new Xh(pl.comparator);function of(){return rf}var sf=new Xh(pl.comparator);function af(){return sf}var uf=new Xh(pl.comparator);function cf(){return uf}var lf=new ef(pl.comparator);function hf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=lf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ff=new ef(zc);function df(){return ff}var pf=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,gf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Kc.min(),r,df(),of(),hf())},t}(),gf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(rl.EMPTY_BYTE_STRING,n,hf(),hf(),hf())},t}(),mf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},yf=function(t,e){this.targetId=t,this.V=e},vf=function(t,e,n,r){void 0===n&&(n=rl.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},bf=function(){function t(){this.S=0,this.D=Sf(),this.C=rl.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=hf(),e=hf(),n=hf();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Fc()}}),new gf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Sf()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),wf=function(){function t(t){this.W=t,this.G=new Map,this.H=of(),this.J=_f(),this.Y=new ef(zc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Fc()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ll(i))if(0===n){var o=new pl(i.path);this.tt(e,o,kl.newNoDocument(o,Kc.min()))}else Uc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Ll(o.target)){var s=new pl(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,kl.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=hf();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new pf(t,n,this.Y,this.H,r);return this.H=of(),this.J=_f(),this.Y=new ef(zc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new bf,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ef(zc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Pc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new bf),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function _f(){return new Xh(pl.comparator)}function Sf(){return new Xh(pl.comparator)}var Ef={asc:"ASCENDING",desc:"DESCENDING"},Of={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tf=function(t,e){this.databaseId=t,this.I=e};function Cf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function If(t,e){return t.I?e.toBase64():e.toUint8Array()}function xf(t,e){return Cf(t,e.toTimestamp())}function Af(t){return Uc(!!t),Kc.fromTimestamp(function(t){var e=ol(t);return new $c(e.seconds,e.nanos)}(t))}function jf(t,e){return function(t){return new Zc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function kf(t){var e=Zc.fromString(t);return Uc(ed(e)),e}function Nf(t,e){return jf(t.databaseId,e.path)}function Df(t,e){var n=kf(e);if(n.get(1)!==t.databaseId.projectId)throw new Nc(kc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Nc(kc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pl(Vf(n))}function Rf(t,e){return jf(t.databaseId,e)}function Pf(t){var e=kf(t);return 4===e.length?Zc.emptyPath():Vf(e)}function Lf(t){return new Zc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vf(t){return Uc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Mf(t,e,n){return{name:Nf(t,e),fields:n.value.mapValue.fields}}function Ff(t,e,n){var r=Df(t,e.name),i=Af(e.updateTime),o=new Al({mapValue:{fields:e.fields}}),s=kl.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Uf(t,e){var n;if(e instanceof Uh)n={update:Mf(t,e.key,e.value)};else if(e instanceof $h)n={delete:Nf(t,e.key)};else if(e instanceof qh)n={update:Mf(t,e.key,e.data),updateMask:td(e.fieldMask)};else{if(!(e instanceof Kh))return Fc();n={verify:Nf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Sh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Eh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Th)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ih)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Fc()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:xf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Fc()}(t,e.precondition)),n}function qf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Nh.updateTime(Af(t.updateTime)):void 0!==t.exists?Nh.exists(t.exists):Nh.none()}(e.currentDocument):Nh.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Uc("REQUEST_TIME"===e.setToServerValue),n=new Sh):"appendMissingElements"in e?n=new Eh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Th(e.removeAllFromArray.values||[]):"increment"in e?n=new Ih(t,e.increment):Fc();var r=el.fromServerFormat(e.fieldPath);return new jh(r,n)}(t,e)}):[];if(e.update){var i=Df(t,e.update.name),o=new Al({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new nl((t.fieldPaths||[]).map(function(t){return el.fromServerFormat(t)}))}(e.updateMask);return new qh(i,o,s,n,r)}return new Uh(i,o,n,r)}if(e.delete){var a=Df(t,e.delete);return new $h(a,n)}if(e.verify){var u=Df(t,e.verify);return new Kh(u,n)}return Fc()}function Bf(t,e){return{documents:[Rf(t,e.path)]}}function Hf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Rf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Rf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Cl(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NAN"}};if(Tl(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Cl(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NAN"}};if(Tl(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yf(t.field),op:Qf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Yf(t.field),direction:Kf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||hl(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Wf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Wf(e.endAt)),n}function zf(t){var e=Pf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Uc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Gf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Kl(Jf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return hl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=$f(n.startAt));var l=null;return n.endAt&&(l=$f(n.endAt)),Zl(e,i,a,s,u,"F",c,l)}function Gf(t){return t?void 0!==t.unaryFilter?[Zf(t)]:void 0!==t.fieldFilter?[Xf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Gf(t)}).reduce(function(t,e){return t.concat(e)}):Fc():[]}function Wf(t){return{before:t.before,values:t.position}}function $f(t){return new Wl(t.values||[],!!t.before)}function Kf(t){return Ef[t]}function Qf(t){return Of[t]}function Yf(t){return{fieldPath:t.canonicalString()}}function Jf(t){return el.fromServerFormat(t.fieldPath)}function Xf(t){return Vl.create(Jf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Fc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Zf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Jf(t.unaryFilter.field);return Vl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Jf(t.unaryFilter.field);return Vl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Jf(t.unaryFilter.field);return Vl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Jf(t.unaryFilter.field);return Vl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Fc()}}function td(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function ed(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function nd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=id(e)),e=rd(t.get(n),e);return id(e)}function rd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function id(t){return t+"\x01\x01"}function od(t){var e=t.length;if(Uc(e>=2),2===e)return Uc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Zc.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Fc(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Fc()}o=s+2}return new Zc(r)}var sd=function(t,e){this.seconds=t,this.nanoseconds=e},ad=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ad.store="owner",ad.key="owner";var ud=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ud.store="mutationQueues",ud.keyPath="userId";var cd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};cd.store="mutations",cd.keyPath="batchId",cd.userMutationsIndex="userMutationsIndex",cd.userMutationsKeyPath=["userId","batchId"];var ld=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,nd(e)]},t.key=function(t,e,n){return[t,nd(e),n]},t}();ld.store="documentMutations",ld.PLACEHOLDER=new ld;var hd=function(t,e){this.path=t,this.readTime=e},fd=function(t,e){this.path=t,this.version=e},dd=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};dd.store="remoteDocuments",dd.readTimeIndex="readTimeIndex",dd.readTimeIndexPath="readTime",dd.collectionReadTimeIndex="collectionReadTimeIndex",dd.collectionReadTimeIndexPath=["parentPath","readTime"];var pd=function(t){this.byteSize=t};pd.store="remoteDocumentGlobal",pd.key="remoteDocumentGlobalKey";var gd=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};gd.store="targets",gd.keyPath="targetId",gd.queryTargetsIndexName="queryTargetsIndex",gd.queryTargetsKeyPath=["canonicalId","targetId"];var md=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};md.store="targetDocuments",md.keyPath=["targetId","path"],md.documentTargetsIndex="documentTargetsIndex",md.documentTargetsKeyPath=["path","targetId"];var yd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};yd.key="targetGlobalKey",yd.store="targetGlobal";var vd=function(t,e){this.collectionId=t,this.parent=e};vd.store="collectionParents",vd.keyPath=["collectionId","parent"];var bd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};bd.store="clientMetadata",bd.keyPath="clientId";var wd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};wd.store="bundles",wd.keyPath="bundleId";var _d=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};_d.store="namedQueries",_d.keyPath="name";var Sd=Object(wo.f)(Object(wo.f)([],Object(wo.f)(Object(wo.f)([],Object(wo.f)(Object(wo.f)([],Object(wo.f)(Object(wo.f)([],[ud.store,cd.store,ld.store,dd.store,gd.store,ad.store,yd.store,md.store]),[bd.store])),[pd.store])),[vd.store])),[wd.store,_d.store]),Ed="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Od=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Td=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Cd=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Fc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Id=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Td,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new jd(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Pd(e.target.error);n.ft.reject(new jd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new jd(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Pc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Nd(e)},t}(),xd=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(_o.i)())&&Lc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Pc("SimpleDb","Removing database:",t),Dd(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(_o.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n=this;return Object(wo.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Pc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new jd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Nc(kc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new jd(t,n))},i.onupgradeneeded=function(t){Pc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Pc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(wo.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(wo.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(wo.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Id.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Cd.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Pc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ad=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Dd(this.Pt.delete())},t}(),jd=function(t){function e(e,n){var r=this;return(r=t.call(this,kc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(wo.c)(e,t),e}(Nc);function kd(t){return"IndexedDbTransactionError"===t.name}var Nd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Pc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Pc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Dd(n)},t.prototype.add=function(t){return Pc("SimpleDb","ADD",this.store.name,t,t),Dd(this.store.add(t))},t.prototype.get=function(t){var e=this;return Dd(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Pc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Pc("SimpleDb","DELETE",this.store.name,t),Dd(this.store.delete(t))},t.prototype.count=function(){return Pc("SimpleDb","COUNT",this.store.name),Dd(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){Pc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Cd(function(n,r){e.onerror=function(t){var e=Pd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Cd(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ad(i),s=e(i.primaryKey,i.value,o);if(s instanceof Cd){var a=s.catch(function(t){return o.done(),Cd.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Cd.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Dd(t){return new Cd(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Pd(t.target.error);n(e)}})}var Rd=!1;function Pd(t){var e=xd._t(Object(_o.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Nc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Rd||(Rd=!0,setTimeout(function(){throw r},0)),r}}return t}var Ld=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(wo.c)(e,t),e}(Od);function Vd(t,e){var n=qc(t);return xd.It(n.Mt,e)}var Md=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Ph(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Lh(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Lh(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Kc.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},hf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Gc(this.mutations,t.mutations,function(t,e){return Mh(t,e)})&&Gc(this.baseMutations,t.baseMutations,function(t,e){return Mh(t,e)})},t}(),Fd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Uc(e.mutations.length===r.length);for(var i=cf(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Ud=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Kc.min()),void 0===o&&(o=Kc.min()),void 0===s&&(s=rl.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),qd=function(t){this.Lt=t};function Bd(t,e){if(e.document)return Ff(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=pl.fromSegments(e.noDocument.path),r=$d(e.noDocument.readTime),i=kl.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=pl.fromSegments(e.unknownDocument.path);return r=$d(e.unknownDocument.version),kl.newUnknownDocument(o,r)}return Fc()}function Hd(t,e,n){var r=zd(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Nf(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Cf(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new dd(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Wd(e.version);return s=e.hasCommittedMutations,new dd(null,new hd(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Wd(e.version);return new dd(new fd(c,l),null,null,!0,r,i)}return Fc()}function zd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Gd(t){var e=new $c(t[0],t[1]);return Kc.fromTimestamp(e)}function Wd(t){var e=t.toTimestamp();return new sd(e.seconds,e.nanoseconds)}function $d(t){var e=new $c(t.seconds,t.nanoseconds);return Kc.fromTimestamp(e)}function Kd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return qf(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return qf(t.Lt,e)}),o=$c.fromMillis(e.localWriteTimeMs);return new Md(e.batchId,o,n,i)}function Qd(t){var e,n,r=$d(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?$d(t.lastLimboFreeSnapshotVersion):Kc.min();return void 0!==t.query.documents?(Uc(1===(n=t.query).documents.length),e=ah(th(Pf(n.documents[0])))):e=function(t){return ah(zf(t))}(t.query),new Ud(e,t.targetId,0,t.lastListenSequenceNumber,r,i,rl.fromBase64String(t.resumeToken))}function Yd(t,e){var n,r=Wd(e.snapshotVersion),i=Wd(e.lastLimboFreeSnapshotVersion);n=Ll(e.target)?Bf(t.Lt,e.target):Hf(t.Lt,e.target);var o=e.resumeToken.toBase64();return new gd(e.targetId,Rl(e.target),r,o,e.sequenceNumber,i,n)}function Jd(t){var e=zf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?uh(e,e.limit,"L"):e}var Xd=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Zd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:$d(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Zd(t).put({bundleId:(n=e).id,createTime:Wd(Af(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return tp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Jd(e.bundledQuery),readTime:$d(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return tp(t).put(function(t){return{name:t.name,readTime:Wd(Af(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Zd(t){return Vd(t,wd.store)}function tp(t){return Vd(t,_d.store)}var ep=function(){function t(){this.Bt=new np}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Cd.resolve()},t.prototype.getCollectionParents=function(t,e){return Cd.resolve(this.Bt.getEntries(e))},t}(),np=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ef(Zc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ef(Zc.comparator)).toArray()},t}(),rp=function(){function t(){this.qt=new np}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:nd(i)};return ip(t).put(o)}return Cd.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Wc(e),""],!1,!0);return ip(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(od(o.parent))}return n})},t}();function ip(t){return Vd(t,vd.store)}var op={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function ap(t,e,n){var r=t.store(cd.store),i=t.store(ld.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Uc(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ld.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Cd.waitFor(o).next(function(){return c})}function up(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Fc();e=t.noDocument}return JSON.stringify(e).length}sp.DEFAULT_COLLECTION_PERCENTILE=10,sp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sp.DEFAULT=new sp(41943040,sp.DEFAULT_COLLECTION_PERCENTILE,sp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sp.DISABLED=new sp(-1,0,0);var cp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Uc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hp(t).$t({index:cd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=fp(t),s=hp(t);return s.add({}).next(function(a){Uc("number"==typeof a);for(var u=new Md(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Uf(t.Lt,e)}),i=n.mutations.map(function(e){return Uf(t.Lt,e)});return new cd(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new ef(function(t,e){return zc(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=ld.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,ld.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Cd.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return hp(t).get(e).next(function(t){return t?(Uc(t.userId===n.userId),Kd(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Cd.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return hp(t).$t({index:cd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Uc(e.batchId>=r),o=Kd(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hp(t).$t({index:cd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hp(t).Nt(cd.userMutationsIndex,n).next(function(t){return t.map(function(t){return Kd(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ld.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return fp(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=od(r[1]);if(a===n.userId&&e.path.isEqual(c))return hp(t).get(u).next(function(t){if(!t)throw Fc();Uc(t.userId===n.userId),o.push(Kd(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ef(zc),i=[];return e.forEach(function(e){var o=ld.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=fp(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=od(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Cd.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ld.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ef(zc);return fp(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=od(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(hp(t).get(e).next(function(t){if(null===t)throw Fc();Uc(t.userId===n.userId),r.push(Kd(n.R,t))}))}),Cd.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return ap(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Cd.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Cd.resolve();var r=IDBKeyRange.lowerBound(ld.prefixForUser(e.userId)),i=[];return fp(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=od(t[1]);i.push(o)}else r.done()}).next(function(){Uc(0===i.length)})})},t.prototype.containsKey=function(t,e){return lp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return dp(t).get(this.userId).next(function(t){return t||new ud(e.userId,-1,"")})},t}();function lp(t,e,n){var r=ld.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return fp(t).$t({range:o,Ft:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function hp(t){return Vd(t,cd.store)}function fp(t){return Vd(t,ld.store)}function dp(t){return Vd(t,ud.store)}var pp=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),gp=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new pp(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Kc.fromTimestamp(new $c(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return mp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Uc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return mp(t).$t(function(s,a){var u=Qd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Cd.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return mp(t).$t(function(t,n){var r=Qd(n);e(r)})},t.prototype.Xt=function(t){return yp(t).get(yd.key).next(function(t){return Uc(null!==t),t})},t.prototype.Zt=function(t,e){return yp(t).put(yd.key,e)},t.prototype.te=function(t,e){return mp(t).put(Yd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Rl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return mp(t).$t({range:r,index:gd.queryTargetsIndexName},function(t,n,r){var o=Qd(n);Pl(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=vp(t);return e.forEach(function(e){var s=nd(e.path);i.push(o.put(new md(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Cd.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=vp(t);return Cd.forEach(e,function(e){var o=nd(e.path);return Cd.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=vp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=vp(t),i=hf();return r.$t({range:n,Ft:!0},function(t,e,n){var r=od(t[1]),o=new pl(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=nd(e.path),r=IDBKeyRange.bound([n],[Wc(n)],!1,!0),i=0;return vp(t).$t({index:md.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return mp(t).get(e).next(function(t){return t?Qd(t):null})},t}();function mp(t){return Vd(t,gd.store)}function yp(t){return Vd(t,yd.store)}function vp(t){return Vd(t,md.store)}function bp(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){if(t.code!==kc.FAILED_PRECONDITION||t.message!==Ed)throw t;return Pc("LocalStore","Unexpectedly lost primary lease"),[2]})})}function wp(t,e){var n=t[1],r=e[1],i=zc(t[0],e[0]);return 0===i?zc(n,r):i}var _p=function(){function t(t){this.ne=t,this.buffer=new ef(wp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();wp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Sp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Pc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(wo.b)(e,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return kd(e=n.sent())?(Pc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,bp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Ep=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Cd.resolve(jc.o);var r=new _p(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Pc("LruGarbageCollector","Garbage collection skipped; disabled"),Cd.resolve(op)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Pc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),op):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Pc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Rc()<=So.a.DEBUG&&Pc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Cd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Op=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Ep(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Tp(t,n)},t.prototype.removeReference=function(t,e,n){return Tp(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Tp(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return dp(t).Ot(function(r){return lp(t,r,e).next(function(t){return t&&(n=!0),Cd.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),vp(t).delete([0,nd(s.path)])})});i.push(u)}}).next(function(){return Cd.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Tp(t,e)},t.prototype.we=function(t,e){var n,r=vp(t),i=jc.o;return r.$t({index:md.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==jc.o&&e(new pl(od(n)),i),i=s,n=o):i=jc.o}).next(function(){i!==jc.o&&e(new pl(od(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Tp(t,e){return vp(t).put(function(t,e){return new md(0,nd(t.path),e)}(e,t.currentSequenceNumber))}var Cp=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Yc(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Jc(this.inner)},t}(),Ip=function(){function t(){this.changes=new Cp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Kc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:kl.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Cd.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),xp=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return kp(t).put(Np(e),n)},t.prototype.removeEntry=function(t,e){var n=kp(t),r=Np(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return kp(t).get(Np(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return kp(t).get(Np(e)).next(function(t){return{document:n.ye(e,t),size:up(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=of();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=of(),i=new Xh(pl.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,up(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Cd.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return kp(t).$t({range:r},function(t,e,r){for(var s=pl.fromSegments(t);o&&pl.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=of(),o=e.path.length+1,s={};if(n.isEqual(Kc.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=zd(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=dd.collectionReadTimeIndex}return kp(t).$t(s,function(t,n,s){if(t.length===o){var a=Bd(r.R,n);e.path.isPrefixOf(a.key.path)?fh(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Ap(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return jp(t).get(pd.key).next(function(t){return Uc(!!t),t})},t.prototype.me=function(t,e){return jp(t).put(pd.key,e)},t.prototype.ye=function(t,e){if(e){var n=Bd(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Kc.min()))return n}return kl.newInvalidDocument(t)},t}(),Ap=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Cp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(wo.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ef(function(t,e){return zc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Hd(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=up(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Hd(e.Ie.R,kl.newNoDocument(o,Kc.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Cd.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Ip);function jp(t){return Vd(t,pd.store)}function kp(t){return Vd(t,dd.store)}function Np(t){return t.path.toArray()}var Dp=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Uc(n<r&&n>=0&&r<=11);var o=new Id("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ad.store)}(t),function(t){t.createObjectStore(ud.store,{keyPath:ud.keyPath}),t.createObjectStore(cd.store,{keyPath:cd.keyPath,autoIncrement:!0}).createIndex(cd.userMutationsIndex,cd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ld.store)}(t),Rp(t),function(t){t.createObjectStore(dd.store)}(t));var s=Cd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(md.store),t.deleteObjectStore(gd.store),t.deleteObjectStore(yd.store)}(t),Rp(t)),s=s.next(function(){return function(t){var e=t.store(yd.store),n=new yd(0,0,Kc.min().toTimestamp(),0);return e.put(yd.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(cd.store).Nt().next(function(n){t.deleteObjectStore(cd.store),t.createObjectStore(cd.store,{keyPath:cd.keyPath,autoIncrement:!0}).createIndex(cd.userMutationsIndex,cd.userMutationsKeyPath,{unique:!0});var r=e.store(cd.store),i=n.map(function(t){return r.put(t)});return Cd.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(bd.store,{keyPath:bd.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(pd.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(dd.store);e.createIndex(dd.readTimeIndex,dd.readTimeIndexPath,{unique:!1}),e.createIndex(dd.collectionReadTimeIndex,dd.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(wd.store,{keyPath:wd.keyPath})}(t),function(t){t.createObjectStore(_d.store,{keyPath:_d.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(dd.store).$t(function(t,n){e+=up(n)}).next(function(){var n=new pd(e);return t.store(pd.store).put(pd.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(ud.store),r=t.store(cd.store);return n.Nt().next(function(n){return Cd.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(cd.userMutationsIndex,i).next(function(r){return Cd.forEach(r,function(r){Uc(r.userId===n.userId);var i=Kd(e.R,r);return ap(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(md.store),n=t.store(dd.store);return t.store(yd.store).get(yd.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Zc(n),s=function(t){return[0,nd(t)]}(o);r.push(e.get(s).next(function(n){return n?Cd.resolve():function(n){return e.put(new md(0,nd(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Cd.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(vd.store,{keyPath:vd.keyPath});var n=e.store(vd.store),r=new np,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:nd(i)})}};return e.store(dd.store).$t({Ft:!0},function(t,e){var n=new Zc(t);return i(n.popLast())}).next(function(){return e.store(ld.store).$t({Ft:!0},function(t,e){var n=od(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(gd.store);return n.$t(function(t,r){var i=Qd(r),o=Yd(e.R,i);return n.put(o)})},t}();function Rp(t){t.createObjectStore(md.store,{keyPath:md.keyPath}).createIndex(md.documentTargetsIndex,md.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(gd.store,{keyPath:gd.keyPath}).createIndex(gd.queryTargetsIndexName,gd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(yd.store)}var Pp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Lp=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Nc(kc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Op(this,i),this.Le=n+"main",this.R=new qd(u),this.Be=new xd(this.Le,11,new Dp(this.R)),this.qe=new gp(this.referenceDelegate,this.R),this.Ut=new rp,this.Ue=function(t,e){return new xp(t,e)}(this.R,this.Ut),this.Ke=new Xd,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Lc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Nc(kc.FAILED_PRECONDITION,Pp);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new jc(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(wo.b)(e,void 0,void 0,function(){return Object(wo.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(wo.b)(e,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(wo.b)(e,void 0,void 0,function(){return Object(wo.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Mp(e).put(new bd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(kd(e))return Pc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Pc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Vp(t).get(ad.key).next(function(t){return Cd.resolve(e.tn(t))})},t.prototype.en=function(t){return Mp(t).delete(this.clientId)},t.prototype.nn=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(wo.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Vd(t,bd.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Cd.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Cd.resolve(!0):Vp(t).get(ad.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Nc(kc.FAILED_PRECONDITION,Pp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Mp(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Pc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(wo.b)(this,void 0,void 0,function(){var t=this;return Object(wo.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ad.store,bd.store],function(e){var n=new Ld(e,jc.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Mp(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return cp.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Pc("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Sd,function(o){return r=new Ld(o,i.Ne?i.Ne.next():jc.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Lc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Nc(kc.FAILED_PRECONDITION,Ed);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Vp(t).get(ad.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Nc(kc.FAILED_PRECONDITION,Pp)})},t.prototype.Ze=function(t){var e=new ad(this.clientId,this.allowTabSynchronization,Date.now());return Vp(t).put(ad.key,e)},t.yt=function(){return xd.yt()},t.prototype.Xe=function(t){var e=this,n=Vp(t);return n.get(ad.key).next(function(t){return e.tn(t)?(Pc("IndexedDbPersistence","Releasing primary lease."),n.delete(ad.key)):Cd.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Lc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(_o.q)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Pc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Lc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Lc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Vp(t){return Vd(t,ad.store)}function Mp(t){return Vd(t,bd.store)}function Fp(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Up=function(t,e){this.progress=t,this.wn=e},qp=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return pl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):oh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new pl(e)).next(function(t){var e=af();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=af();return this.Ut.getCollectionParents(t,i).next(function(s){return Cd.forEach(s,function(s){var a=function(t,e){return new Xl(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=kl.newInvalidDocument(c),r=r.insert(c,l)),Lh(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){fh(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=hf(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof qh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Bp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=hf(),i=hf(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Hp=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Kc.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(eh(e)||nh(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Rc()<=So.a.DEBUG&&Pc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),hh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new ef(dh(t));return e.forEach(function(e,r){fh(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Rc()<=So.a.DEBUG&&Pc("QueryEngine","Using full collection scan to execute query:",hh(e)),this.Sn.getDocumentsMatchingQuery(t,e,Kc.min())},t}(),zp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Xh(zc),this.Fn=new Cp(function(t){return Rl(t)},Pl),this.$n=Kc.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new qp(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function Gp(t,e,n,r){return new zp(t,e,n,r)}function Wp(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(wo.d)(this,function(s){switch(s.label){case 0:return n=qc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new qp(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=hf(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function $p(t,e){var n=qc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Cd.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Uc(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Kp(t){var e=qc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Qp(t,e){var n=qc(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Uc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=of();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Yp(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Kc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Cd.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.kn=i,t})}function Yp(t,e,n,r,i){var o=hf();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=of();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Kc.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Pc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Jp(t,e){var n=qc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Xp(t,e){var n=qc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Cd.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Ud(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function Zp(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(wo.d)(this,function(a){switch(a.label){case 0:r=qc(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!kd(s=a.sent()))throw s;return Pc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function tg(t,e,n){var r=qc(t),i=Kc.min(),o=hf();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=qc(t),i=r.Fn.get(n);return void 0!==i?Cd.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,ah(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Kc.min(),n?o:hf())}).next(function(t){return{documents:t,Bn:o}})})}function eg(t,e){var n=qc(t),r=qc(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function ng(t){var e=qc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=qc(t),i=of(),o=zd(n),s=kp(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:dd.readTimeIndex,range:a},function(t,e){var n=Bd(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Gd(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function rg(t){return Object(wo.b)(this,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){return[2,(e=qc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=kp(t),n=Kc.min();return e.$t({index:dd.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Gd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function ig(t,e,n,r){return Object(wo.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(wo.d)(this,function(p){switch(p.label){case 0:for(i=qc(t),o=hf(),s=of(),a=cf(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Xp(i,function(t){return ah(th(Zc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Yp(t,f,s,Kc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function og(t,e,n){return void 0===n&&(n=hf()),Object(wo.b)(this,void 0,void 0,function(){var r,i;return Object(wo.d)(this,function(o){switch(o.label){case 0:return[4,Xp(t,ah(Jd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=qc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Af(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(rl.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var sg=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Cd.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Af(n.createTime)}),Cd.resolve()},t.prototype.getNamedQuery=function(t,e){return Cd.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Jd(t.bundledQuery),readTime:Af(t.readTime)}}(e)),Cd.resolve()},t}(),ag=function(){function t(){this.Wn=new ef(ug.Gn),this.zn=new ef(ug.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new ug(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new ug(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new pl(new Zc([])),r=new ug(n,t),i=new ug(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new pl(new Zc([])),n=new ug(e,t),r=new ug(e,t+1),i=hf();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new ug(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),ug=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return pl.comparator(t.key,e.key)||zc(t.ns,e.ns)},t.Hn=function(t,e){return zc(t.ns,e.ns)||pl.comparator(t.key,e.key)},t}(),cg=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ef(ug.Gn)}return t.prototype.checkEmpty=function(t){return Cd.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Md(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new ug(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Cd.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Cd.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Cd.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Cd.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Cd.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new ug(e,0),i=new ug(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Cd.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ef(zc);return e.forEach(function(t){var e=new ug(t,0),i=new ug(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Cd.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;pl.isDocumentKey(i)||(i=i.child(""));var o=new ug(new pl(i),0),s=new ef(zc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Cd.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Uc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Cd.forEach(e.mutations,function(i){var o=new ug(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new ug(e,0),r=this.rs.firstAfterOrEqual(n);return Cd.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Cd.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),lg=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Xh(pl.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Cd.resolve(n?n.document.clone():kl.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=of();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():kl.newInvalidDocument(t))}),Cd.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=of(),i=new pl(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||fh(e,u)&&(r=r.insert(u.key,u.clone()))}return Cd.resolve(r)},t.prototype.fs=function(t,e){return Cd.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new hg(this)},t.prototype.getSize=function(t){return Cd.resolve(this.size)},t}(),hg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(wo.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Cd.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Ip),fg=function(){function t(t){this.persistence=t,this.ds=new Cp(function(t){return Rl(t)},Pl),this.lastRemoteSnapshotVersion=Kc.min(),this.highestTargetId=0,this.ws=0,this._s=new ag,this.targetCount=0,this.ys=pp.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Cd.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Cd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Cd.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Cd.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Cd.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new pp(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Cd.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Cd.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Cd.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Cd.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Cd.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Cd.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Cd.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Cd.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Cd.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Cd.resolve(n)},t.prototype.containsKey=function(t,e){return Cd.resolve(this._s.containsKey(e))},t}(),dg=function(){function t(t,e){var n=this;this.gs={},this.Ne=new jc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new fg(this),this.Ut=new ep,this.Ue=function(t,e){return new lg(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new qd(e),this.Ke=new sg(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new cg(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Pc("MemoryPersistence","Starting transaction:",t);var i=new pg(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Cd.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),pg=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(wo.c)(e,t),e}(Od),gg=function(){function t(t){this.persistence=t,this.As=new ag,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Fc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Cd.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Cd.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Cd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Cd.forEach(this.vs,function(r){var i=pl.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Cd.or([function(){return Cd.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),mg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function yg(t,e){return"firestore_clients_"+t+"_"+e}function vg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function bg(t,e){return"firestore_targets_"+t+"_"+e}mg.UNAUTHENTICATED=new mg(null),mg.GOOGLE_CREDENTIALS=new mg("google-credentials-uid"),mg.FIRST_PARTY=new mg("first-party-uid"),mg.MOCK_USER=new mg("mock-user");var wg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Nc(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Lc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),_g=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Nc(i.error.code,i.error.message)),o?new t(e,i.state,r):(Lc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Sg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=df(),s=0;i&&s<r.activeTargetIds.length;++s)i=dl(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Lc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Eg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Lc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Og=function(){function t(){this.activeTargetIds=df()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Tg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Xh(zc),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=yg(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Og),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(wo.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(yg(this.persistenceKey,r)))&&(o=Sg.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(bg(this.persistenceKey,t));if(n){var r=_g.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(bg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Pc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Pc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Pc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Pc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Lc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(wo.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(wo.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=jc.o;if(null!=t)try{var n=JSON.parse(t);Uc("number"==typeof n),e=n}catch(t){Lc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==jc.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new wg(this.currentUser,t,e,n),i=vg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=vg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=bg(this.persistenceKey,t),i=new _g(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Sg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return wg.Vs(new mg(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return _g.Vs(r,e)},t.prototype.js=function(t){return Eg.Vs(t)},t.prototype.ii=function(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Pc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=df();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Cg=function(){function t(){this.li=new Og,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Og,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Ig=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),xg=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Pc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Pc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ag={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jg=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),kg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(wo.c)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,o){var s=new Ac;s.listenOnce(Tc.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Oc.NO_ERROR:var e=s.getResponseJson();Pc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Oc.TIMEOUT:Pc("Connection",'RPC "'+t+'" timed out'),o(new Nc(kc.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:var n=s.getStatus();if(Pc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(kc).indexOf(e)>=0?e:kc.UNKNOWN}(r.status);o(new Nc(a,r.message))}else o(new Nc(kc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Nc(kc.UNAVAILABLE,"Connection failed."));break;default:Fc()}}finally{Pc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new bc,i=da(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ic({})),this.ki(o.initMessageHeaders,e),Object(_o.n)()||Object(_o.p)()||Object(_o.l)()||Object(_o.m)()||Object(_o.r)()||Object(_o.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Pc("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new jg({Ei:function(t){c?Pc("Connection","Not sending because WebChannel is closed:",t):(u||(Pc("Connection","Opening WebChannel transport."),a.open(),u=!0),Pc("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,xc.EventType.OPEN,function(){c||Pc("Connection","WebChannel transport opened.")}),h(a,xc.EventType.CLOSE,function(){c||(c=!0,Pc("Connection","WebChannel transport closed"),l.Vi())}),h(a,xc.EventType.ERROR,function(t){c||(c=!0,Vc("Connection","WebChannel transport errored:",t),l.Vi(new Nc(kc.UNAVAILABLE,"The operation could not be completed")))}),h(a,xc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Uc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Pc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Gh[t];if(void 0!==e)return Jh(e)}(i),s=r.message;void 0===o&&(o=kc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Nc(o,s)),a.close()}else Pc("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Cc.STAT_EVENT,function(t){10===t.stat?Pc("Connection","Detected buffering proxy"):11===t.stat&&Pc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Pc("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then(function(t){return Pc("RestConnection","Received: ",t),t},function(e){throw Vc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Ag[t]},t}());function Ng(){return"undefined"!=typeof window?window:null}function Dg(){return"undefined"!=typeof document?document:null}function Rg(t){return new Tf(t,!0)}var Pg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Pc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Lg=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Pg(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===kc.RESOURCE_EXHAUSTED?(Lc(e.toString()),Lc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===kc.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Nc(kc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(wo.b)(t,void 0,void 0,function(){return Object(wo.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Pc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Pc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Vg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(wo.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Fc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Uc(void 0===e||"string"==typeof e),rl.fromBase64String(e||"")):(Uc(void 0===e||e instanceof Uint8Array),rl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?kc.UNKNOWN:Jh(t.code);return new Nc(e,t.message||"")}(a);n=new vf(r,i,o,s||null)}else if("documentChange"in e){i=Df(t,(r=e.documentChange).document.name),o=Af(r.document.updateTime);var a=new Al({mapValue:{fields:r.document.fields}}),u=(s=kl.newFoundDocument(i,o,a),r.targetIds||[]);n=new mf(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Df(t,(r=e.documentDelete).document),o=r.readTime?Af(r.readTime):Kc.min(),a=kl.newNoDocument(i,o),n=new mf([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Df(t,(r=e.documentRemove).document),n=new mf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Fc();var c=e.filter;i=new Qh(r=c.count||0),n=new yf(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Kc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Kc.min():e.readTime?Af(e.readTime):Kc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Lf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ll(r)?{documents:Bf(t,r)}:{query:Hf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=If(t,e.resumeToken):e.snapshotVersion.compareTo(Kc.min())>0&&(n.readTime=Cf(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Lf(this.R),e.removeTarget=t,this.cr(e)},e}(Lg),Mg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(wo.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Uc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Uc(void 0!==e),t.map(function(t){return function(t,e){var n=Af(t.updateTime?t.updateTime:e);return n.isEqual(Kc.min())&&(n=Af(e)),new kh(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Af(t.commitTime);return this.listener.Tr(n,e)}return Uc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Lf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Uf(e.R,t)})};this.cr(n)},e}(Lg),Fg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(wo.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Nc(kc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===kc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Nc(kc.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===kc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Nc(kc.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Ug=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Lc(e),this.Vr=!1):Pc("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),qg=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(wo.b)(o,void 0,void 0,function(){return Object(wo.d)(this,function(t){switch(t.label){case 0:return Yg(this)?(Pc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(wo.b)(this,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return(e=qc(t)).Or.add(4),[4,Hg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Bg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Ug(n,r)};function Bg(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n;return Object(wo.d)(this,function(r){switch(r.label){case 0:if(!Yg(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Hg(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n;return Object(wo.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function zg(t,e){var n=qc(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Qg(n)?Kg(n):hm(n).er()&&Wg(n,e))}function Gg(t,e){var n=qc(t),r=hm(n);n.$r.delete(e),r.er()&&$g(n,e),0===n.$r.size&&(r.er()?r.ir():Yg(n)&&n.Br.set("Unknown"))}function Wg(t,e){t.qr.U(e.targetId),hm(t).mr(e)}function $g(t,e){t.qr.U(e),hm(t).yr(e)}function Kg(t){t.qr=new wf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),hm(t).start(),t.Br.Sr()}function Qg(t){return Yg(t)&&!hm(t).tr()&&t.$r.size>0}function Yg(t){return 0===qc(t).Or.size}function Jg(t){t.qr=void 0}function Xg(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){return t.$r.forEach(function(e,n){Wg(t,e)}),[2]})})}function Zg(t,e){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(n){return Jg(t),Qg(t)?(t.Br.Nr(e),Kg(t)):t.Br.set("Unknown"),[2]})})}function tm(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,o;return Object(wo.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof vf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(wo.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Pc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,em(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof mf?t.qr.X(e):e instanceof yf?t.qr.rt(e):t.qr.et(e),n.isEqual(Kc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Kp(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(rl.EMPTY_BYTE_STRING,n.snapshotVersion)),$g(t,e);var r=new Ud(n.target,e,1,n.sequenceNumber);Wg(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Pc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,em(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function em(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r=this;return Object(wo.d)(this,function(i){switch(i.label){case 0:if(!kd(e))throw e;return t.Or.add(1),[4,Hg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Kp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(wo.b)(r,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return Pc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Bg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function nm(t,e){return e().catch(function(n){return em(t,n,e)})}function rm(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(wo.d)(this,function(s){switch(s.label){case 0:e=qc(t),n=fm(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Yg(t)&&t.Fr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Jp(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=fm(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,em(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return im(e)&&om(e),[2]}})})}function im(t){return Yg(t)&&!fm(t).tr()&&t.Fr.length>0}function om(t){fm(t).start()}function sm(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){return fm(t).Ar(),[2]})})}function am(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n,r;return Object(wo.d)(this,function(i){for(e=fm(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function um(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i;return Object(wo.d)(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=Fd.from(r,e,n),[4,nm(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,rm(t)];case 2:return o.sent(),[2]}})})}function cm(t,e){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(n){switch(n.label){case 0:return e&&fm(t).pr?[4,function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r;return Object(wo.d)(this,function(i){switch(i.label){case 0:return Yh(r=e.code)&&r!==kc.ABORTED?(n=t.Fr.shift(),fm(t).sr(),[4,nm(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,rm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return im(t)&&om(t),[2]}})})}function lm(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n;return Object(wo.d)(this,function(r){switch(r.label){case 0:return n=qc(t),e?(n.Or.delete(2),[4,Bg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Hg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function hm(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=qc(t);return r.br(),new Vg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Xg.bind(null,t),Ri:Zg.bind(null,t),_r:tm.bind(null,t)}),t.Mr.push(function(n){return Object(wo.b)(e,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Qg(t)?Kg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Jg(t),e.label=3;case 3:return[2]}})})})),t.Ur}function fm(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=qc(t);return r.br(),new Mg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:sm.bind(null,t),Ri:cm.bind(null,t),Ir:am.bind(null,t),Tr:um.bind(null,t)}),t.Mr.push(function(n){return Object(wo.b)(e,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,rm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Pc("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var dm=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Td,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nc(kc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function pm(t,e){if(Lc("AsyncQueue",e+": "+t),kd(t))return new Nc(kc.UNAVAILABLE,e+": "+t);throw t}var gm=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||pl.comparator(e.key,n.key)}:function(t,e){return pl.comparator(t.key,e.key)},this.keyedMap=af(),this.sortedSet=new Xh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),mm=function(){function t(){this.Qr=new Xh(pl.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Fc():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),ym=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,gm.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),vm=function(){this.Wr=void 0,this.listeners=[]},bm=function(){this.queries=new Cp(function(t){return lh(t)},ch),this.onlineState="Unknown",this.Gr=new Set};function wm(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(wo.d)(this,function(c){switch(c.label){case 0:if(n=qc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new vm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=pm(a,"Initialization of query '"+hh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Om(n),[2]}})})}function _m(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(wo.d)(this,function(a){return n=qc(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Sm(t,e){for(var n=qc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Om(n)}function Em(t,e,n){var r=qc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Om(t){t.Gr.forEach(function(t){t.next()})}var Tm=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ym(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=ym.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Cm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Im=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Df(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ff(this.R,t.document,!1):kl.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Af(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Im(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||hf()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(wo.d)(this,function(o){switch(o.label){case 0:return[4,ig(this.localStore,new Im(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,og(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Up(Object.assign({},this.progress),t))]}})})}}();var xm=function(t){this.key=t},Am=function(t){this.key=t},jm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=hf(),this.mutatedKeys=hf(),this.lo=dh(t),this.fo=new gm(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new mm,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=eh(this.query)&&i.size===this.query.limit?i.last():null,c=nh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=fh(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),eh(this.query)||nh(this.query))for(;s.size>this.query.limit;){var l=eh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new ym(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new mm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=hf(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Am(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new xm(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=hf();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return ym.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),km=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Nm=function(t){this.key=t,this.bo=!1},Dm=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Cp(function(t){return lh(t)},ch),this.Vo=new Map,this.So=new Set,this.Do=new Xh(pl.comparator),this.Co=new Map,this.No=new ag,this.xo={},this.ko=new Map,this.Fo=pp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Rm(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(wo.d)(this,function(a){switch(a.label){case 0:return n=cy(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Xp(n.localStore,ah(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Pm(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&zg(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Pm(t,e,n,r){return Object(wo.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(wo.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(wo.b)(this,void 0,void 0,function(){var i,o,s;return Object(wo.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,tg(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Km(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,tg(t.localStore,e,!0)];case 1:return i=l.sent(),o=new jm(e,i.Bn),s=o._o(i.documents),a=gf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Km(t,n,u.To),c=new km(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Lm(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i;return Object(wo.d)(this,function(o){switch(o.label){case 0:return n=qc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!ch(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Zp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Gg(n.remoteStore,r.targetId),Wm(n,r.targetId)}).catch(bp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Wm(n,r.targetId),[4,Zp(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Vm(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(wo.d)(this,function(a){switch(a.label){case 0:r=ly(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=qc(t),i=$c.now(),o=e.reduce(function(t,e){return t.add(e.key)},hf());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Vh(c,n.get(c.key));null!=l&&s.push(new qh(c.key,l,jl(l.value.mapValue),Nh.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Xh(zc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Jm(r,i.changes)];case 3:return a.sent(),[4,rm(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=pm(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Mm(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r;return Object(wo.d)(this,function(i){switch(i.label){case 0:n=qc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Qp(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Uc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Uc(r.bo):t.removedDocuments.size>0&&(Uc(r.bo),r.bo=!1))}),[4,Jm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,bp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Fm(t,e,n){var r=qc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=qc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Om(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Um(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(wo.d)(this,function(c){switch(c.label){case 0:return(r=qc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Xh(pl.comparator)).insert(o,kl.newNoDocument(o,Kc.min())),a=hf().add(o),u=new pf(Kc.min(),new Map,new ef(zc),s,a),[4,Mm(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Ym(r),[3,4];case 2:return[4,Zp(r.localStore,e,!1).then(function(){return Wm(r,e,n)}).catch(bp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function qm(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i;return Object(wo.d)(this,function(o){switch(o.label){case 0:n=qc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,$p(n.localStore,e)];case 2:return i=o.sent(),Gm(n,r,null),zm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Jm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,bp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Bm(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i;return Object(wo.d)(this,function(o){switch(o.label){case 0:r=qc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=qc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Uc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Gm(r,e,n),zm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Jm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,bp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Hm(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(wo.d)(this,function(a){switch(a.label){case 0:Yg((n=qc(t)).remoteStore)||Pc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=qc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=pm(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function zm(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function Gm(t,e,n){var r=qc(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Wm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||$m(t,e)})}function $m(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Gg(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Ym(t))}function Km(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof xm?(t.No.addReference(o.key,e),Qm(t,o)):o instanceof Am?(Pc("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||$m(t,o.key)):Fc()}}function Qm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Pc("SyncEngine","New document in limbo: "+n),t.So.add(r),Ym(t))}function Ym(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new pl(Zc.fromString(e)),r=t.Fo.next();t.Co.set(r,new Nm(n)),t.Do=t.Do.insert(n,r),zg(t.remoteStore,new Ud(ah(th(n.path)),r,2,jc.o))}}function Jm(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(wo.d)(this,function(a){switch(a.label){case 0:return r=qc(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Bp.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(wo.d)(this,function(l){switch(l.label){case 0:n=qc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Cd.forEach(e,function(e){return Cd.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Cd.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!kd(r=l.sent()))throw r;return Pc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.kn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Xm(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r;return Object(wo.d)(this,function(i){switch(i.label){case 0:return(n=qc(t)).currentUser.isEqual(e)?[3,3]:(Pc("SyncEngine","User change. New user:",e.toKey()),[4,Wp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new Nc(kc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Jm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Zm(t,e){var n=qc(t),r=n.Co.get(e);if(r&&r.bo)return hf().add(r.key);var i=hf(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function ty(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i;return Object(wo.d)(this,function(o){switch(o.label){case 0:return[4,tg((n=qc(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Km(n,e.targetId,i.To),i)]}})})}function ey(t){return Object(wo.b)(this,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){return[2,ng((e=qc(t)).localStore).then(function(t){return Jm(e,t)})]})})}function ny(t,e,n,r){return Object(wo.b)(this,void 0,void 0,function(){var i,o;return Object(wo.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=qc(t),r=qc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Cd.resolve(null)})})}((i=qc(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,rm(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Gm(i,e,r||null),zm(i,e),function(t,e){qc(qc(t)._n).Gt(e)}(i.localStore,e)):Fc(),s.label=4;case 4:return[4,Jm(i,o)];case 5:return s.sent(),[3,7];case 6:Pc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function ry(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(wo.d)(this,function(c){switch(c.label){case 0:return cy(n=qc(t)),ly(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,iy(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,lm(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)zg(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Wm(n,e),Zp(n.localStore,e,!0)}),Gg(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,iy(n,a)];case 5:return c.sent(),function(t){var e=qc(t);e.Co.forEach(function(t,n){Gg(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Xh(pl.comparator)}(n),n.$o=!1,[4,lm(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function iy(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(wo.d)(this,function(g){switch(g.label){case 0:n=qc(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Xp(n.localStore,ah(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,ty(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,eg(n.localStore,a)];case 8:return p=g.sent(),[4,Xp(n.localStore,p)];case 9:return u=g.sent(),[4,Pm(n,oy(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function oy(t){return Zl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sy(t){var e=qc(t);return qc(qc(e.localStore).persistence).fn()}function ay(t,e,n,r){return Object(wo.b)(this,void 0,void 0,function(){var i,o,s;return Object(wo.d)(this,function(a){switch(a.label){case 0:return(i=qc(t)).$o?(Pc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ng(i.localStore)];case 3:return o=a.sent(),s=pf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Jm(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Zp(i.localStore,e,!0)];case 6:return a.sent(),Wm(i,e,r),[3,8];case 7:Fc(),a.label=8;case 8:return[2]}})})}function uy(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(wo.d)(this,function(f){switch(f.label){case 0:if(!(r=cy(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Pc("SyncEngine","Adding an already active target "+s),[3,5]):[4,eg(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Xp(r.localStore,a)];case 3:return u=f.sent(),[4,Pm(r,oy(a),u.targetId,!1)];case 4:f.sent(),zg(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(wo.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Zp(r.localStore,t,!1).then(function(){Gg(r.remoteStore,t),Wm(r,t)}).catch(bp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function cy(t){var e=qc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Um.bind(null,e),e.vo._r=Sm.bind(null,e.eventManager),e.vo.Mo=Em.bind(null,e.eventManager),e}function ly(t){var e=qc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bm.bind(null,e),e}var hy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return this.R=Rg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Gp(this.persistence,new Hp,t.initialUser,this.R)},t.prototype.qo=function(t){return new dg(gg.bs,this.R)},t.prototype.Bo=function(t){return new Cg},t.prototype.terminate=function(){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),fy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(wo.c)(e,t),e.prototype.initialize=function(e){return Object(wo.b)(this,void 0,void 0,function(){var n=this;return Object(wo.d)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,rg(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,ly(this.Qo.syncEngine)];case 4:return r.sent(),[4,rm(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){return Gp(this.persistence,new Hp,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Sp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Fp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sp.withCacheSize(this.cacheSizeBytes):sp.DEFAULT;return new Lp(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ng(),Dg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Cg},e}(hy),dy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(wo.c)(e,t),e.prototype.initialize=function(e){return Object(wo.b)(this,void 0,void 0,function(){var n,r=this;return Object(wo.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Tg?(this.sharedClientState.syncEngine={ui:ny.bind(null,n),ai:ay.bind(null,n),hi:uy.bind(null,n),fn:sy.bind(null,n),ci:ey.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(wo.b)(r,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return[4,ry(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Ng();if(!Tg.yt(e))throw new Nc(kc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Fp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Tg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(fy),py=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n=this;return Object(wo.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Fm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Xm.bind(null,this.syncEngine),[4,lm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new bm},t.prototype.createDatastore=function(t){var e=Rg(t.databaseInfo.databaseId),n=new kg(t.databaseInfo);return function(t,e,n){return new Fg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Fm(s.syncEngine,t,0)},o=xg.yt()?new xg:new Ig,new qg(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Dm(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(wo.b)(this,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return e=qc(t),Pc("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Hg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),gy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),my=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Td,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(wo.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Cm(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(wo.b)(this,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n=this;return Object(wo.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Nc(kc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(wo.d)(this,function(u){switch(u.label){case 0:return n=qc(t),r=Lf(n.R)+"/documents",i={documents:e.map(function(t){return Nf(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Uc(!!e.found);var n=Df(t,e.found.name),r=Af(e.found.updateTime),i=new Al({mapValue:{fields:e.found.fields}});return kl.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Uc(!!e.missing),Uc(!!e.readTime);var n=Df(t,e.missing),r=Af(e.readTime);return kl.newNoDocument(n,r)}(t,e):Fc()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Uc(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new $h(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e=this;return Object(wo.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=pl.fromPath(n);e.mutations.push(new Kh(r,e.precondition(r)))}),[4,function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i;return Object(wo.d)(this,function(o){switch(o.label){case 0:return n=qc(t),r=Lf(n.R)+"/documents",i={writes:e.map(function(t){return Uf(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Fc();e=Kc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Nc(kc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Nh.updateTime(e):Nh.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Kc.min()))throw new Nc(kc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nh.updateTime(e)}return Nh.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),yy=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Pg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(wo.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(wo.d)(this,function(r){return t=new my(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!hl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Yh(e)}return!1},t}(),vy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=mg.UNAUTHENTICATED,this.clientId=Hc.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(wo.b)(r,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return Pc("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Nc(kc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Td;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(wo.b)(t,void 0,void 0,function(){var t,n;return Object(wo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=pm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function by(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(wo.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Pc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(wo.b)(i,void 0,void 0,function(){return Object(wo.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Wp(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function wy(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r;return Object(wo.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,_y(t)];case 1:return n=i.sent(),Pc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r;return Object(wo.d)(this,function(i){switch(i.label){case 0:return(n=qc(t)).asyncQueue.verifyOperationInProgress(),Pc("RemoteStore","RemoteStore received new credentials"),r=Yg(n),n.Or.add(3),[4,Hg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Bg(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function _y(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Pc("FirestoreClient","Using default OfflineComponentProvider"),[4,by(t,new hy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Sy(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Pc("FirestoreClient","Using default OnlineComponentProvider"),[4,wy(t,new py)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Ey(t){return _y(t).then(function(t){return t.persistence})}function Oy(t){return _y(t).then(function(t){return t.localStore})}function Ty(t){return Sy(t).then(function(t){return t.remoteStore})}function Cy(t){return Sy(t).then(function(t){return t.syncEngine})}function Iy(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n;return Object(wo.d)(this,function(r){switch(r.label){case 0:return[4,Sy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Rm.bind(null,e.syncEngine),n.onUnlisten=Lm.bind(null,e.syncEngine),n)]}})})}function xy(t,e,n){var r=this;void 0===n&&(n={});var i=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(r,void 0,void 0,function(){var r;return Object(wo.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new gy({next:function(o){e.enqueueAndForget(function(){return _m(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Nc(kc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Nc(kc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Tm(th(n.path),o,{includeMetadataChanges:!0,so:!0});return wm(t,s)},[4,Iy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Ay(t,e,n){var r=this;void 0===n&&(n={});var i=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(r,void 0,void 0,function(){var r;return Object(wo.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new gy({next:function(n){e.enqueueAndForget(function(){return _m(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Nc(kc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Tm(n,o,{includeMetadataChanges:!0,so:!0});return wm(t,s)},[4,Iy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var jy=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},ky=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ny=new Map,Dy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ry=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(mg.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Py=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ly=function(){function t(t){var e=this;this.currentUser=mg.UNAUTHENTICATED,this.oc=new Td,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Pc("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Pc("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Pc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Uc("string"==typeof n.accessToken),new Dy(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(wo.b)(n,void 0,void 0,function(){return Object(wo.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Uc(null===t||"string"==typeof t),new mg(t)},t}(),Vy=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=mg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),My=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Vy(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(mg.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Fy(t,e,n){if(!n)throw new Nc(kc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Uy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Nc(kc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function qy(t,e,n,r){if(!0===e&&!0===r)throw new Nc(kc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function By(t){if(!pl.isDocumentKey(t))throw new Nc(kc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Hy(t){if(pl.isDocumentKey(t))throw new Nc(kc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function zy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Fc()}function Gy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Nc(kc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zy(t);throw new Nc(kc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Wy(t,e){if(e<=0)throw new Nc(kc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var $y=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Nc(kc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Nc(kc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,qy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Ky=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $y({}),this._settingsFrozen=!1,t instanceof ky?(this._databaseId=t,this._credentials=new Ry):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Nc(kc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ky(t.options.projectId)}(t),this._credentials=new Ly(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Nc(kc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Nc(kc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $y(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ry;switch(t.type){case"gapi":var e=t.client;return Uc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new My(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Nc(kc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Ny.get(this))&&(Pc("ComponentProvider","Removing Datastore"),Ny.delete(this),t.terminate()),Promise.resolve();var t},t}(),Qy=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Jy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Yy=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Jy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,th(r))||this)._path=r,i.type="collection",i}return Object(wo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Qy(this.firestore,null,new pl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Yy);function Xy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(_o.h)(t),Fy("collection","path",e),t instanceof Ky)return Hy(n=Zc.fromString.apply(Zc,Object(wo.f)([e],r))),new Jy(t,null,n);if(!(t instanceof Qy||t instanceof Jy))throw new Nc(kc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hy(n=Zc.fromString.apply(Zc,Object(wo.f)([t.path],r)).child(Zc.fromString(e))),new Jy(t.firestore,null,n)}function Zy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(_o.h)(t),1===arguments.length&&(e=Hc.u()),Fy("doc","path",e),t instanceof Ky)return By(n=Zc.fromString.apply(Zc,Object(wo.f)([e],r))),new Qy(t,null,new pl(n));if(!(t instanceof Qy||t instanceof Jy))throw new Nc(kc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return By(n=t._path.child(Zc.fromString.apply(Zc,Object(wo.f)([e],r)))),new Qy(t.firestore,t instanceof Jy?t.converter:null,new pl(n))}function tv(t,e){return t=Object(_o.h)(t),e=Object(_o.h)(e),(t instanceof Qy||t instanceof Jy)&&(e instanceof Qy||e instanceof Jy)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ev(t,e){return t=Object(_o.h)(t),e=Object(_o.h)(e),t instanceof Yy&&e instanceof Yy&&t.firestore===e.firestore&&ch(t._query,e._query)&&t.converter===e.converter}var nv=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Pg(this,"async_queue_retry"),this.Ic=function(){var e=Dg();e&&Pc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Dg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Dg();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Td;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e=this;return Object(wo.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!kd(t=n.sent()))throw t;return Pc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Lc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=dm.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Fc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(wo.b)(this,void 0,void 0,function(){var t;return Object(wo.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function rv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Td,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var iv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new nv,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(wo.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||sv(this),this._firestoreClient.terminate()},e}(Ky);function ov(t){return t._firestoreClient||sv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function sv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new jy(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new vy(t._credentials,t._queue,r)}function av(t,e,n){var r=this,i=new Td;return t.asyncQueue.enqueue(function(){return Object(wo.b)(r,void 0,void 0,function(){var r;return Object(wo.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,by(t,n)];case 1:return o.sent(),[4,wy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===kc.FAILED_PRECONDITION||t.code===kc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function uv(t){if(t._initialized||t._terminated)throw new Nc(kc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var cv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Nc(kc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new el(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),lv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(rl.fromBase64String(e))}catch(e){throw new Nc(kc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(rl.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),hv=function(t){this._methodName=t},fv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Nc(kc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Nc(kc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return zc(this._lat,t._lat)||zc(this._long,t._long)},t}(),dv=/^__.*__$/,pv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new qh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Uh(t,this.data,e,this.fieldTransforms)},t}(),gv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new qh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function mv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fc()}}var yv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Vv(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(mv(this.Nc)&&dv.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),vv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Rg(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new yv({Nc:t,methodName:e,qc:n,path:el.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function bv(t){var e=t._freezeSettings(),n=Rg(t._databaseId);return new vv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Dv("Data must be an object, but it was:",s,r);var a,u,c=kv(r,s);if(o.merge)a=new nl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Rv(e,f[h],n);if(!s.contains(d))throw new Nc(kc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Mv(l,d)||l.push(d)}a=new nl(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new pv(new Al(c),a,u)}var _v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(hv);function Sv(t,e,n){return new yv({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Ev=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype._toFieldTransform=function(t){return new jh(t.path,new Sh)},e.prototype.isEqual=function(t){return t instanceof e},e}(hv),Ov=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(wo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Sv(this,t,!0),n=this.Kc.map(function(t){return jv(t,e)}),r=new Eh(n);return new jh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(hv),Tv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(wo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Sv(this,t,!0),n=this.Kc.map(function(t){return jv(t,e)}),r=new Th(n);return new jh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(hv),Cv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(wo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Ih(t.R,yh(t.R,this.Qc));return new jh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(hv);function Iv(t,e,n,r){var i=t.Uc(1,e,n);Dv("Data must be an object, but it was:",i,r);var o=[],s=Al.empty();Yc(r,function(t,r){var a=Lv(e,t,n);r=Object(_o.h)(r);var u=i.Oc(a);if(r instanceof _v)o.push(a);else{var c=jv(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new nl(o);return new gv(s,a,i.fieldTransforms)}function xv(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[Rv(e,r,n)],u=[i];if(o.length%2!=0)throw new Nc(kc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Rv(e,o[c])),u.push(o[c+1]);for(var l=[],h=Al.empty(),f=a.length-1;f>=0;--f)if(!Mv(l,a[f])){var d=a[f],p=u[f];p=Object(_o.h)(p);var g=s.Oc(d);if(p instanceof _v)l.push(d);else{var m=jv(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new nl(l);return new gv(h,y,s.fieldTransforms)}function Av(t,e,n,r){return void 0===r&&(r=!1),jv(n,t.Uc(r?4:3,e))}function jv(t,e){if(Nv(t=Object(_o.h)(t)))return Dv("Unsupported field value:",e,t),kv(t,e);if(t instanceof hv)return function(t,e){if(!mv(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=jv(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(_o.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=$c.fromDate(t);return{timestampValue:Cf(e.R,n)}}if(t instanceof $c)return n=new $c(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Cf(e.R,n)};if(t instanceof fv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof lv)return{bytesValue:If(e.R,t._byteString)};if(t instanceof Qy){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:jf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+zy(t))}(t,e)}function kv(t,e){var n={};return Jc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yc(t,function(t,r){var i=jv(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Nv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof $c||t instanceof fv||t instanceof lv||t instanceof Qy||t instanceof hv)}function Dv(t,e,n){if(!Nv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=zy(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Rv(t,e,n){if((e=Object(_o.h)(e))instanceof cv)return e._internalPath;if("string"==typeof e)return Lv(t,e);throw Vv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Pv=new RegExp("[~\\*/\\[\\]]");function Lv(t,e,n){if(e.search(Pv)>=0)throw Vv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(cv.bind.apply(cv,Object(wo.f)([void 0],e.split(".")))))._internalPath}catch(Vb){throw Vv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Vv(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Nc(kc.INVALID_ARGUMENT,(a+=". ")+t+u)}function Mv(t,e){return t.some(function(t){return t.isEqual(e)})}var Fv=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Qy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Uv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(qv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Uv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Fv);function qv(t,e){return"string"==typeof e?Lv(t,e):e instanceof cv?e._internalPath:e._delegate._internalPath}var Bv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Hv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(wo.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new zv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(qv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Fv),zv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Hv),Gv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Bv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new zv(n._firestore,n._userDataWriter,r.key,r,new Bv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Nc(kc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new zv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Bv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new zv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Bv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Wv(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Wv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fc()}}function $v(t,e){return t instanceof Hv&&e instanceof Hv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Gv&&e instanceof Gv&&t._firestore===e._firestore&&ev(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Kv(t){if(nh(t)&&0===t.explicitOrderBy.length)throw new Nc(kc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qv=function(){};function Yv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Object(wo.c)(e,t),e.prototype._apply=function(t){var e=bv(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Nc(kc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ib(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(rb(r,t,l[c]));a={arrayValue:{values:u}}}else a=rb(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ib(s,o),a=Av(n,"where",s,"in"===o||"not-in"===o);var h=Vl.create(i,o,a);return function(t,e){if(e.g()){var n=ih(t);if(null!==n&&!n.isEqual(e.field))throw new Nc(kc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=rh(t);null!==r&&ob(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Nc(kc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Yy(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Qv),Xv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Object(wo.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Nc(kc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Nc(kc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Kl(e,n);return function(t,e){if(null===rh(t)){var n=ih(t);null!==n&&ob(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Yy(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Xl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Qv),Zv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(wo.c)(e,t),e.prototype._apply=function(t){return new Yy(t.firestore,t.converter,uh(t._query,this.Hc,this.Jc))},e}(Qv),tb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(wo.c)(e,t),e.prototype._apply=function(t){var e=nb(t,this.type,this.Yc,this.Xc);return new Yy(t.firestore,t.converter,function(t,e){return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Qv),eb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(wo.c)(e,t),e.prototype._apply=function(t){var e=nb(t,this.type,this.Yc,this.Xc);return new Yy(t.firestore,t.converter,function(t,e){return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Qv);function nb(t,e,n,r){if(n[0]=Object(_o.h)(n[0]),n[0]instanceof Fv)return function(t,e,n,r,i){if(!r)throw new Nc(kc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=sh(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Sl(e,r.key));else{var c=r.data.field(u.field);if(ul(c))throw new Nc(kc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Nc(kc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Wl(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=bv(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Nc(kc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Nc(kc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!oh(t)&&-1!==c.indexOf("/"))throw new Nc(kc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Zc.fromString(c));if(!pl.isDocumentKey(l))throw new Nc(kc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new pl(l);a.push(Sl(e,h))}else{var f=Av(n,r,c);a.push(f)}}return new Wl(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function rb(t,e,n){if("string"==typeof(n=Object(_o.h)(n))){if(""===n)throw new Nc(kc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!oh(e)&&-1!==n.indexOf("/"))throw new Nc(kc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Zc.fromString(n));if(!pl.isDocumentKey(r))throw new Nc(kc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Sl(t,new pl(r))}if(n instanceof Qy)return Sl(t,n._key);throw new Nc(kc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zy(n)+".")}function ib(t,e){if(!Array.isArray(t)||0===t.length)throw new Nc(kc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Nc(kc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function ob(t,e,n){if(!n.isEqual(e))throw new Nc(kc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var sb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),gl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(al(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Fc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Yc(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new fv(sl(t.latitude),sl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=cl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ll(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ol(t);return new $c(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Zc.fromString(t);Uc(ed(n));var r=new ky(n.get(1),n.get(3)),i=new pl(n.popFirst(5));return r.isEqual(e)||Lc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function ab(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ub=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wo.c)(e,t),e.prototype.convertBytes=function(t){return new lv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qy(this.firestore,null,e)},e}(sb),cb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=bv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=lb(t,this._firestore),i=ab(r.converter,e,n),o=wv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Nh.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=lb(t,this._firestore);return o="string"==typeof(e=Object(_o.h)(e))||e instanceof cv?xv(this._dataReader,"WriteBatch.update",s._key,e,n,r):Iv(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Nh.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=lb(t,this._firestore);return this._mutations=this._mutations.concat(new $h(e._key,Nh.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Nc(kc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function lb(t,e){if((t=Object(_o.h)(t)).firestore!==e)throw new Nc(kc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var hb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wo.c)(e,t),e.prototype.convertBytes=function(t){return new lv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qy(this.firestore,null,e)},e}(sb);function fb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Gy(t,Qy);var o=Gy(t.firestore,iv),s=bv(o);return pb(o,[("string"==typeof(e=Object(_o.h)(e))||e instanceof cv?xv(s,"updateDoc",t._key,e,n,r):Iv(s,"updateDoc",t._key,e)).toMutation(t._key,Nh.exists(!0))])}function db(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(_o.h)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||rv(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(rv(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Qy)c=Gy(t.firestore,iv),l=th(t._key.path),u={next:function(e){i[a]&&i[a](gb(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Gy(t,Yy);c=Gy(d.firestore,iv),l=d._query;var p=new hb(c);u={next:function(t){i[a]&&i[a](new Gv(c,p,d,t))},error:i[a+1],complete:i[a+2]},Kv(t._query)}return function(t,e,n,r){var i=this,o=new gy(r),s=new Tm(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(i,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return e=wm,[4,Iy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(i,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return e=_m,[4,Iy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(ov(c),l,h,u)}function pb(t,e){return function(t,e){var n=this,r=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(n,void 0,void 0,function(){var n;return Object(wo.d)(this,function(i){switch(i.label){case 0:return n=Vm,[4,Cy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(ov(t),e)}function gb(t,e,n){var r=n.docs.get(e._key),i=new hb(t);return new Hv(t,i,e._key,r,new Bv(n.hasPendingWrites,n.fromCache),e.converter)}var mb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(wo.c)(e,t),e.prototype.get=function(e){var n=this,r=lb(e,this._firestore),i=new hb(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Hv(n._firestore,i,r._key,t._document,new Bv(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=bv(t)}return t.prototype.get=function(t){var e=this,n=lb(t,this._firestore),r=new ub(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Fc();var i=t[0];if(i.isFoundDocument())return new Fv(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Fv(e._firestore,r,n._key,null,n.converter);throw Fc()})},t.prototype.set=function(t,e,n){var r=lb(t,this._firestore),i=ab(r.converter,e,n),o=wv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=lb(t,this._firestore);return o="string"==typeof(e=Object(_o.h)(e))||e instanceof cv?xv(this._dataReader,"Transaction.update",s._key,e,n,r):Iv(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=lb(t,this._firestore);return this._transaction.delete(e._key),this},t}());function yb(){if("undefined"==typeof Uint8Array)throw new Nc(kc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function vb(){if("undefined"==typeof atob)throw new Nc(kc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var bb=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return vb(),new t(lv.fromBase64String(e))},t.fromUint8Array=function(e){return yb(),new t(lv.fromUint8Array(e))},t.prototype.toBase64=function(){return vb(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return yb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),wb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){uv(t=Gy(t,iv));var n=ov(t),r=t._freezeSettings(),i=new py;return av(n,i,new fy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){uv(t=Gy(t,iv));var e=ov(t),n=t._freezeSettings(),r=new py;return av(e,r,new dy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Nc(kc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Td;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(wo.b)(e,void 0,void 0,function(){var e;return Object(wo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return xd.yt()?[4,xd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Fp(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),_b=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof ky||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Vc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=Gy(t,Ky))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Vc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=mg.MOCK_USER;else{s=Object(_o.d)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Nc(kc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new mg(u)}t._credentials=new Py(new Dy(s,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(wo.b)(e,void 0,void 0,function(){var e,n;return Object(wo.d)(this,function(r){switch(r.label){case 0:return[4,Ey(t)];case 1:return e=r.sent(),[4,Ty(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=qc(t);return e.Or.delete(0),Bg(e)}(n))]}})})})}(ov(Gy(this._delegate,iv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(wo.b)(e,void 0,void 0,function(){var e,n;return Object(wo.d)(this,function(r){switch(r.label){case 0:return[4,Ey(t)];case 1:return e=r.sent(),[4,Ty(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(wo.b)(this,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return(e=qc(t)).Or.add(0),[4,Hg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(ov(Gy(this._delegate,iv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&qy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(e,void 0,void 0,function(){var e;return Object(wo.d)(this,function(r){switch(r.label){case 0:return e=Hm,[4,Cy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(ov(Gy(this._delegate,iv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new gy(e);return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(n,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){qc(t).Gr.add(e),e.next()},[4,Iy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(n,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){qc(t).Gr.delete(e)},[4,Iy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(ov(t=Gy(t,iv)),rv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Nc(kc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Pb(this,Xy(this._delegate,t))}catch(t){throw Ib(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Cb(this,Zy(this._delegate,t))}catch(t){throw Ib(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Nb(this,function(t,e){if(t=Gy(t,Ky),Fy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Nc(kc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Yy(t,null,function(t){return new Xl(Zc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Ib(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(n,void 0,void 0,function(){var n;return Object(wo.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Sy(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new yy(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(ov(t),function(n){return e(new mb(t,n))})}(this._delegate,function(n){return t(new Eb(e,n))})},t.prototype.batch=function(){var t=this;return ov(this._delegate),new Ob(new cb(this._delegate,function(e){return pb(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Nc(kc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Nc(kc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Sb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wo.c)(e,t),e.prototype.convertBytes=function(t){return new bb(new lv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Cb.eu(e,this.firestore,null)},e}(sb),Eb=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Sb(t)}return t.prototype.get=function(t){var e=this,n=Lb(t);return this._delegate.get(n).then(function(t){return new jb(e._firestore,new Hv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Lb(t);return n?(Uy("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Lb(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(wo.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Lb(t);return this._delegate.delete(e),this},t}(),Ob=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Lb(t);return n?(Uy("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Lb(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(wo.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Lb(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Tb=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new zv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new kb(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Sb(e),n),i.set(n,o)),o},t}();Tb.su=new WeakMap;var Cb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Sb(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Nc(kc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Qy(n._delegate,r,new pl(e)))},t.eu=function(e,n,r){return new t(n,new Qy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Pb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Pb(this.firestore,Xy(this._delegate,t))}catch(t){throw Ib(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(_o.h)(t))instanceof Qy&&tv(this._delegate,t)},t.prototype.set=function(t,e){e=Uy("DocumentReference.set",e);try{return function(t,e,n){t=Gy(t,Qy);var r=Gy(t.firestore,iv),i=ab(t.converter,e,n);return pb(r,[wv(bv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Nh.none())])}(this._delegate,t,e)}catch(t){throw Ib(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?fb(this._delegate,t):fb.apply(void 0,Object(wo.f)([this._delegate,t,e],n))}catch(t){throw Ib(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return pb(Gy((t=this._delegate).firestore,iv),[new $h(t._key,Nh.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xb(e),i=Ab(e,function(e){return new jb(t.firestore,new Hv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return db(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Gy(t,Qy);var e=Gy(t.firestore,iv),n=ov(e),r=new hb(e);return function(t,e){var n=this,r=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(n,void 0,void 0,function(){var n;return Object(wo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i;return Object(wo.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=qc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Nc(kc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=pm(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Oy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Hv(e,r,t._key,n,new Bv(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Gy(t,Qy);var e=Gy(t.firestore,iv);return xy(ov(e),t._key,{source:"server"}).then(function(n){return gb(e,t,n)})}(this._delegate):function(t){t=Gy(t,Qy);var e=Gy(t.firestore,iv);return xy(ov(e),t._key).then(function(n){return gb(e,t,n)})}(this._delegate)).then(function(t){return new jb(e.firestore,new Hv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Tb.nu(this.firestore,e):null))},t}();function Ib(t,e,n){return t.message=t.message.replace(e,n),t}function xb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!rv(r))return r}return{}}function Ab(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=rv(t[0])?t[0]:rv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var jb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Cb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return $v(this._delegate,t._delegate)},t}(),kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(jb),Nb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Sb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Yv(this._delegate,function(t,e,n){var r=e,i=qv("where",t);return new Jv(i,r,n)}(e,n,r)))}catch(e){throw Ib(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Yv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=qv("orderBy",t);return new Xv(r,n)}(e,n)))}catch(e){throw Ib(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Yv(this._delegate,function(t){return Wy("limit",t),new Zv("limit",t,"F")}(e)))}catch(e){throw Ib(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Yv(this._delegate,function(t){return Wy("limitToLast",t),new Zv("limitToLast",t,"L")}(e)))}catch(e){throw Ib(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tb("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Ib(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tb("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Ib(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eb("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Ib(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eb("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Ib(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return ev(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Gy(t,Yy);var e=Gy(t.firestore,iv),n=ov(e),r=new hb(e);return function(t,e){var n=this,r=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(n,void 0,void 0,function(){var n;return Object(wo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(wo.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,tg(t,e,!0)];case 1:return a=u.sent(),r=new jm(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=pm(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Oy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Gv(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Gy(t,Yy);var e=Gy(t.firestore,iv),n=ov(e),r=new hb(e);return Ay(n,t._query,{source:"server"}).then(function(n){return new Gv(e,r,t,n)})}(this._delegate):function(t){t=Gy(t,Yy);var e=Gy(t.firestore,iv),n=ov(e),r=new hb(e);return Kv(t._query),Ay(n,t._query).then(function(n){return new Gv(e,r,t,n)})}(this._delegate)).then(function(t){return new Rb(e.firestore,new Gv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xb(e),i=Ab(e,function(e){return new Rb(t.firestore,new Gv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return db(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Tb.nu(this.firestore,e):null))},t}(),Db=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new kb(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Rb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Nb(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new kb(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Db(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new kb(n._firestore,r))})},t.prototype.isEqual=function(t){return $v(this._delegate,t._delegate)},t}(),Pb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(wo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Cb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Cb(this.firestore,void 0===t?Zy(this._delegate):Zy(this._delegate,t))}catch(t){throw Ib(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Gy(t.firestore,iv),r=Zy(t),i=ab(t.converter,e);return pb(n,[wv(bv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Nh.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Cb(e.firestore,t)})},e.prototype.isEqual=function(t){return tv(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Tb.nu(this.firestore,t):null))},e}(Nb);function Lb(t){return Gy(t,Qy)}var Vb,Mb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(cv.bind.apply(cv,Object(wo.f)([void 0],t)))}return t.documentId=function(){return new t(el.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(_o.h)(t))instanceof cv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Fb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Ev("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new _v("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ov("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tv("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Cv("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Ub=n("/6Yf"),qb={Firestore:_b,GeoPoint:fv,Timestamp:$c,Blob:bb,Transaction:Eb,WriteBatch:Ob,DocumentReference:Cb,DocumentSnapshot:jb,Query:Nb,QueryDocumentSnapshot:kb,QuerySnapshot:Rb,CollectionReference:Pb,FieldPath:Mb,FieldValue:Fb,setLogLevel:function(t){Dc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Ub.a("firestore",function(t){return function(t,e){return new _b(t,new iv(t,e),new wb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},qb)))})(Vb=bo.a),Vb.registerVersion("@firebase/firestore","2.4.0");var Bb=n("VRyK"),Hb=n("qgXg"),zb=n("Ylt2");class Gb extends le.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Wb(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new he.a;if(this.isStopped||this.hasError?o=ln.a.EMPTY:(this.observers.push(t),o=new zb.a(this,t)),r&&t.add(t=new mo.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Hb.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Wb{constructor(t,e){this.time=t,this.value=e}}function $b(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Gb(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Kb(t,e){return e?je(()=>t,e):je(()=>t)}var Qb=n("tf+s");const Yb=new r.r("angularfire2.auth.use-emulator"),Jb=new r.r("angularfire2.auth.settings"),Xb=new r.r("angularfire2.auth.tenant-id"),Zb=new r.r("angularfire2.auth.langugage-code"),tw=new r.r("angularfire2.auth.use-device-language"),ew=new r.r("angularfire.auth.persistence");let nw=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new yo.d(i),f=Object(yo.h)(h),d=new le.a,p=Object(ce.a)(void 0).pipe(Object(mo.b)(h.outsideAngular),je(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(gt.a)(()=>Object(yo.g)(t,i,e)),Object(gt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(yo.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),$b({bufferSize:1,refCount:!1}));if(N(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(ce.a)(null);else{p.pipe(an()).subscribe();const t=p.pipe(je(t=>t.getRedirectResult().then(t=>t,()=>null)),f,$b({bufferSize:1,refCount:!1})),e=t=>new dt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(je(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(je(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Kb(n),Object(Qb.a)(h.outsideAngular),Object(mo.b)(h.insideAngular)),this.user=t.pipe(Kb(r),Object(Qb.a)(h.outsideAngular),Object(mo.b)(h.insideAngular)),this.idToken=this.user.pipe(je(t=>t?Object(ft.a)(t.getIdToken()):Object(ce.a)(null))),this.idTokenResult=this.user.pipe(je(t=>t?Object(ft.a)(t.getIdTokenResult()):Object(ce.a)(null))),this.credential=Object(Bb.a)(t,d,this.authState.pipe(qe(t=>!t))).pipe(Object(gt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Qb.a)(h.outsideAngular),Object(mo.b)(h.insideAngular))}return Object(yo.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(yo.c),r.Sb(yo.b,8),r.Sb(r.C),r.Sb(r.A),r.Sb(Yb,8),r.Sb(Jb,8),r.Sb(Xb,8),r.Sb(Zb,8),r.Sb(tw,8),r.Sb(ew,8))},t.\u0275prov=r.Hb({factory:function(){return new t(r.Sb(yo.c),r.Sb(yo.b,8),r.Sb(r.C),r.Sb(r.A),r.Sb(Yb,8),r.Sb(Jb,8),r.Sb(Xb,8),r.Sb(Zb,8),r.Sb(tw,8),r.Sb(ew,8))},token:t,providedIn:"any"}),t})();function rw(t,e){return function(t,e=co.a){return new dt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function iw(t,e){return rw(t,e).pipe(Object(gt.a)(t=>({payload:t,type:"query"})))}function ow(t,e){return iw(t,e).pipe(Ve(void 0),lo(),Object(gt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function sw(t,e,n){return ow(t,n).pipe(Me((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return aw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return aw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return aw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new po(void 0,void 0)),Object(gt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function aw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function uw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(yo.e)(nw,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class cw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=ow(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(gt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ve(void 0),lo(),qe(([t,e])=>e.length>0||!t),Object(gt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Me((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=uw(t);return sw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return iw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(gt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ft.a)(this.query.get(t)).pipe(Object(mo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new lw(this.ref.doc(t),this.afs)}}class lw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=mw(n,e);return new cw(r,i,this.afs)}snapshotChanges(){return rw(this.ref,this.afs.schedulers.outsideAngular).pipe(Ve(void 0),lo(),Object(gt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(gt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(ft.a)(this.ref.get(t)).pipe(Object(mo.b)(this.afs.schedulers.insideAngular))}}class hw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ow(this.query,this.afs.schedulers.outsideAngular).pipe(Object(gt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),qe(t=>t.length>0),this.afs.keepUnstableUntilFirst):ow(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Me((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=uw(t);return sw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return iw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(gt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ft.a)(this.query.get(t)).pipe(Object(mo.b)(this.afs.schedulers.insideAngular))}}const fw=new r.r("angularfire2.enableFirestorePersistence"),dw=new r.r("angularfire2.firestore.persistenceSettings"),pw=new r.r("angularfire2.firestore.settings"),gw=new r.r("angularfire2.firestore.use-emulator");function mw(t,e=(t=>t)){return{query:e(t),ref:t}}let yw=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new yo.d(o),this.keepUnstableUntilFirst=Object(yo.h)(this.schedulers);const c=Object(yo.g)(t,o,e);!vo.a.auth&&u&&Object(yo.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(yo.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!N(i)){const e=()=>{try{return Object(ft.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Vb){return"undefined"!=typeof console&&console.warn(Vb),Object(ce.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(ce.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=mw(n,e),o=this.schedulers.ngZone.run(()=>r);return new cw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new hw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new lw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(yo.c),r.Sb(yo.b,8),r.Sb(fw,8),r.Sb(pw,8),r.Sb(r.C),r.Sb(r.A),r.Sb(dw,8),r.Sb(gw,8),r.Sb(Yb,8))},t.\u0275prov=r.Hb({factory:function(){return new t(r.Sb(yo.c),r.Sb(yo.b,8),r.Sb(fw,8),r.Sb(pw,8),r.Sb(r.C),r.Sb(r.A),r.Sb(dw,8),r.Sb(gw,8),r.Sb(Yb,8))},token:t,providedIn:"any"}),t})(),vw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:fw,useValue:!0},{provide:dw,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[yw]}),t})(),bw=(()=>{class t{constructor(t){this.db=t,this.coll="download-list"}add(t){return new Promise((e,n)=>{this.db.collection(this.coll).add(t).then(t=>{e(t)},t=>n(t))})}get(){return this.db.collection(this.coll).snapshotChanges()}getWhere(t){return this.db.collection(this.coll,e=>e.where("email","==",t)).get()}update(t,e){return this.db.collection(this.coll).doc(t).set(e,{merge:!0})}delete(t){return this.db.collection(this.coll).doc(t.payload.doc.id).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(yw))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ww=(()=>{class t{constructor(t,e){this.route=t,this.sv=e,this.uid="",this.email="",this.ipAddress="",this.downloadLimit=1,this.ax=ue.a.create({baseURL:`${oe}`,timeout:5e3})}ngOnInit(){this.route.queryParams.subscribe(t=>{this.uid=t.uid,this.email=t.email,this.ipAddress=t.addr}),this.increaseCount(!0)}increaseCount(t){this.sv.getWhere(this.email).subscribe(e=>{if(e.docs.length>0){if(e.docs.forEach(t=>{const e=t.data();this.oldData=e,this.oldData.id=t.id}),console.log(this.oldData),!t&&this.oldData.downloadCount>this.downloadLimit)return;this.downloadPDF(this.oldData)}else this.downloadPDF()})}downloadPDF(t){if(console.log(t),void 0===t){const t={downloadCount:1,email:this.email,ipAddresses:[this.ipAddress],timestamp:(new Date).getTime(),uid:this.uid};console.log(t),this.sv.add(t).then(t=>{console.log(t),this.downloadFile()})}else{const e=t.downloadCount+1;t.ipAddresses.push(this.ipAddress),this.sv.update(t.id,{downloadCount:e,ipAddresses:t.ipAddresses}).then(t=>{this.downloadFile()})}}downloadFile(){this.postRequest("api/into-the-wind/download-pdf",{}).then(t=>{console.log(t),window.location.href=t.data}).catch(t=>{console.log(t)})}postRequest(t,e){return this.ax.post(`${oe}${t}`,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(vr),r.Lb(bw))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-download"]],decls:8,vars:0,consts:[[1,"bg","text-center",2,"padding","5em 0","height","150px"],[1,"tt"],[1,"ttr","text-center",2,"margin-top","-1em","padding","2em"],[1,"tr",2,"margin-bottom","0"],[1,"out",2,"margin-left","10px","background","#686ecc","border","1px solid #686ecc","margin-top","1em",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h2",1),r.fc(2,"Into The World"),r.Nb(),r.Nb(),r.Ob(3,"div",2),r.Ob(4,"h5",3),r.fc(5,"Your download should be starting any moment now..."),r.Nb(),r.Ob(6,"button",4),r.Vb("click",function(){return e.downloadFile()}),r.fc(7,"Retry Download"),r.Nb(),r.Nb())},styles:[""]}),t})();const _w=[{path:"",component:(()=>{class t{constructor(){this.ax=ue.a.create({baseURL:`${oe}`,timeout:5e3})}ngOnInit(){this.ax.post(`${oe}api/users/ping`).then(t=>{}).catch(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-landing"]],decls:42,vars:0,consts:[[1,"bg","text-center",2,"padding","5em 0"],[1,"tt"],["href","https://flutterwave.com/pay/ziysovmsmw6s",1,"out",2,"margin-top","2em"],[1,"ttr",2,"margin-top","-1em","padding","2em"],[1,"tr1",2,"margin-bottom","0"],[2,"color","#182f2e","font-size","20px"],[2,"float","left","font-size","18px","text-align","justify","width","calc(100% - 400px)"],["href","https://flutterwave.com/pay/ziysovmsmw6s",1,"out",2,"background","#686ecc","border","1px solid #686ecc","margin-top","1em"],[1,"text-center",2,"float","right","width","360px","padding","0 1em"],["src","./assets/itw.png","alt","",1,"scxx",2,"margin-top","1em","width","100%"],[2,"clear","both"],[2,"background-color","#e3e3e35e"],[1,"tr1",2,"margin-bottom","0","margin-left","146px"],[2,"float","left"],["src","./assets/d.png","alt","",1,"scx"],[2,"float","left","width","calc(100% - 128px)"],[2,"font-size","18px","margin-left","1em","text-align","justify"],["src","./assets/li.png","alt","",2,"width","20px"],["href","https://www.linkedin.com/in/olakunle-david-bello/",2,"position","relative","top","-5px","font-size","12px"],[1,"text-center",2,"color","grey","font-size","12px"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h2",1),r.fc(2,"Into The World"),r.Nb(),r.Ob(3,"a",2),r.fc(4,"Get It Now"),r.Nb(),r.Nb(),r.Ob(5,"div",3),r.Ob(6,"h6",4),r.fc(7,"About the Book"),r.Nb(),r.Ob(8,"div",5),r.Ob(9,"p",6),r.fc(10," What makes anything worth saying is that it achieves a purpose. The central thought in this booklet is aimed at providing a change in perspective such that life's challenges are no longer seen as suffering but obstacles to overcome. Words are not enough in revealing the truth about the route to successful living, but it is the stimulant in search of the hidden treasures of the mind. True living, characterised by control over the self regardless of circumstance can only be reached by a willing exploration of life's truths buried deep within the being. It is the key to success in relationships, business or social. "),r.Mb(11,"br"),r.Ob(12,"a",7),r.fc(13,"Get It Now"),r.Nb(),r.Nb(),r.Ob(14,"div",8),r.Mb(15,"img",9),r.Nb(),r.Nb(),r.Mb(16,"br",10),r.Nb(),r.Ob(17,"div",11),r.Ob(18,"div",3),r.Ob(19,"h6",12),r.fc(20,"Author's Note"),r.Nb(),r.Ob(21,"div",5),r.Ob(22,"div",13),r.Mb(23,"img",14),r.Nb(),r.Ob(24,"div",15),r.Ob(25,"p",16),r.fc(26," I've worked in the healthcare industry for 7 years, with a background in Computer Science before resigning to become a full time explorer, writer and entrepreneur. The change came as a result of suffering a series of traumatic events including a divorce from my young marriage with no children, leaving me empty and lacking meaning or a sense of direction for what next. With nothing to do, I poured myself into reading, stumbling across philosophy and psychology among others. I practised meditation and spirituality while conducting experiments to observe the nature of reality and humans in the search for that which constitues proper living. At the time of this writing, I am 32, feeling alive and consciously looking for the spark of passion that makes life's challenges worth it."),r.Mb(27,"br"),r.Mb(28,"br"),r.Ob(29,"b"),r.fc(30,"David O."),r.Nb(),r.Mb(31,"br"),r.fc(32," Writer, Philosopher, Entrepreneur"),r.Mb(33,"br"),r.Mb(34,"img",17),r.fc(35,"\xa0 "),r.Ob(36,"a",18),r.fc(37,"https://www.linkedin.com/in/olakunle-david-bello/"),r.Nb(),r.Nb(),r.Mb(38,"br"),r.Ob(39,"div",19),r.fc(40,"\xa9 Bello Olakunle David, 2021"),r.Nb(),r.Nb(),r.Nb(),r.Mb(41,"br",10),r.Nb(),r.Nb())},styles:[""]}),t})()},{path:"download",component:ww},{path:"thank-you",component:uo}];let Sw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[Qi.forRoot(_w,{useHash:!0})],Qi]}),t})(),Ew=(()=>{class t{constructor(){this.title="productscene"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:[Fi],styles:[""]}),t})(),Ow=(()=>{class t{constructor(){this.trackingEndPoint="https://kgelfdz7mf.execute-api.us-east-1.amazonaws.com/staging/sendevent",this.packageVersion="1.2.1",this.language="Angular V3"}track(t){const e={publicKey:t.paymentData.public_key,language:this.language,version:this.packageVersion,title:"",message:"0"},n=t.paymentData.payment_options||"",r=n?n.split(","):[];let i="";i=0===r.length?"Initiate-Charge-Dashboard":1===r.length?"Initiate-Charge-"+n:"Initiate-Charge-Multiple",e.title="successful"===t.response.status?i:i+"-error",this.submitTracking(e)}submitTracking(t){fetch(this.trackingEndPoint,{method:"POST",body:JSON.stringify(t)}).then(t=>{})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Tw=(()=>{class t{constructor(t){this.tracker=t}inlinePay(t){const e=Object.assign({},t,{callback:e=>{this.submitToTracker(t,e,1e4),t.callbackContext[t.callback.name](e)},onclose:()=>{try{t.callbackContext[t.onclose.name]()}catch(Vb){}}});FlutterwaveCheckout(e)}asyncInlinePay(t){return new Promise((e,n)=>{t=Object.assign({},t,{callback:n=>{this.submitToTracker(t,n,1e4),e(n)},onclose:()=>e("closed")}),FlutterwaveCheckout(t)})}submitToTracker(t,e,n){this.tracker.track({paymentData:t,response:e,responseTime:n})}closePaymentModal(t=0){setTimeout(()=>{document.getElementsByName("checkout")[0].setAttribute("style","position:fixed;top:0;left:0;z-index:-1;border:none;opacity:0;pointer-events:none;width:100%;height:100%;"),document.body.style.overflow=""},1e3*t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ow))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Cw=(()=>{class t{constructor(){const t="https://checkout.flutterwave.com/v3.js",e=document.createElement("script");e.src=t,document.querySelector(`[src="${t}"]`)||document.body.appendChild(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[Tw,Ow],imports:[[k]]}),t})(),Iw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t,bootstrap:[Ew]}),t.\u0275inj=r.Ib({providers:[],imports:[[ht,ie,Sw,Cw,yo.a.initializeApp(se),vw]]}),t})();Object(r.T)(),ct().bootstrapModule(Iw).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zuR4:function(t,e,n){"use strict";var r=n("xTJ+"),i=n("HSsa"),o=n("CgaS"),s=n("SntB");function a(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=a(n("JEQr"));u.Axios=o,u.create=function(t){return a(s(u.defaults,t))},u.Cancel=n("endd"),u.CancelToken=n("jfS+"),u.isCancel=n("Lmem"),u.all=function(t){return Promise.all(t)},u.spread=n("DfZB"),u.isAxiosError=n("XwJu"),t.exports=u,t.exports.default=u},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);